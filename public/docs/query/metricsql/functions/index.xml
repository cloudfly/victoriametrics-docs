<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>中文手册(WIP) – 函数</title>
    <link>http://localhost:1313/docs/query/metricsql/functions/</link>
    <description>Recent content in 函数 on 中文手册(WIP)</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    
	  <atom:link href="http://localhost:1313/docs/query/metricsql/functions/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>汇总（Rollup）</title>
      <link>http://localhost:1313/docs/query/metricsql/functions/rollup/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>http://localhost:1313/docs/query/metricsql/functions/rollup/</guid>
      <description>
        
        
        &lt;h2&gt;什么是Rollup&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;什么是rollup&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#%e4%bb%80%e4%b9%88%e6%98%afrollup&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Rollup函数（也称为范围函数或窗口函数）在所选 timeseries 的给定回溯窗口上对原始样本的汇总计算。例如，&lt;code&gt;avg_over_time(temperature[24h])&lt;/code&gt;计算过去 24 小时内所有原始样本的平均温度值。&lt;/p&gt;
&lt;p&gt;更多细节：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果在Grafana中使用&lt;code&gt;rollup&lt;/code&gt;函数来构建图形，那么每个点上的&lt;code&gt;rollup&lt;/code&gt;都是独立计算的。例如，&lt;code&gt;avg_over_time(temperature[24h])&lt;/code&gt;图表中的每个点显示了截止到该时间点的过去24小时内的平均温度。点之间的间隔由Grafana传递给&lt;code&gt;/api/v1/query_range&lt;/code&gt;接口作为&lt;code&gt;step&lt;/code&gt;查询参数设置。&lt;/li&gt;
&lt;li&gt;如果给定的查询语句返回多个 timeseries，则每个返回的序列都会单独计算汇总。&lt;/li&gt;
&lt;li&gt;如果方括号中的回溯窗口缺失，则MetricsQL会自动将回溯窗口设置为图表上点之间的间隔（即&lt;code&gt;/api/v1/query_range&lt;/code&gt;中的&lt;code&gt;step&lt;/code&gt;查询参数，Grafana中的&lt;code&gt;$__interval&lt;/code&gt;值或MetricsQL中的&lt;code&gt;1i&lt;/code&gt;持续时间）。例如，&lt;code&gt;rate(http_requests_total)&lt;/code&gt;在Grafana中等同于&lt;code&gt;rate(http_requests_total[$__interval])&lt;/code&gt;。它也等同于&lt;code&gt;rate(http_requests_total[1i])&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;每个在MetricsQL中的系列选择器都必须包装在一个rollup函数中。否则，它会自动被包装成&lt;code&gt;default_rollup&lt;/code&gt;。例如，&lt;code&gt;foo{bar=&amp;quot;baz&amp;quot;}&lt;/code&gt; 在执行计算之前会自动转换为 &lt;code&gt;default_rollup(foo{bar=&amp;quot;baz&amp;quot;}[1i])&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;如果在rollup函数中传递的参数不是series selector，那么内部的参数会自动转换为&lt;a href=&#34;https://www.victoriametrics.com.cn/victoriametrics/shu-ju-cha-xun/metricql/zi-cha-xun&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;子查询&lt;/a&gt;。&lt;/li&gt;
&lt;li&gt;所有的汇总函数都接受可选的 &lt;code&gt;keep_metric_names&lt;/code&gt; 修饰符。如果设置了该修饰符，函数将在结果中保留指标名称。请参阅&lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;这些文档&lt;/a&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;更多参见&lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#implicit-query-conversions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;隐式查询转换&lt;/a&gt;。&lt;/p&gt;
&lt;h2&gt;与 Prometheus 的普遍差异&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;与-prometheus-的普遍差异&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#%e4%b8%8e-prometheus-%e7%9a%84%e6%99%ae%e9%81%8d%e5%b7%ae%e5%bc%82&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;凡是涉及对回溯窗口样本值首尾样本值进行计算的 rollup 函数，比如 &lt;code&gt;rate&lt;/code&gt;、&lt;code&gt;delta&lt;/code&gt;、&lt;code&gt;increase&lt;/code&gt; 等函数；其MetricsQL 和 PromQL 都存在统一的计算差异。因此 VictoriaMetrics 使用 &lt;code&gt;xxx_prometheus&lt;/code&gt; 的命名提供了兼容 Prometheus 统计方式的 rollup 函数，如 &lt;code&gt;rate_prometheus&lt;/code&gt;、&lt;code&gt;delta_prometheus&lt;/code&gt;、&lt;code&gt;increase_prometheus&lt;/code&gt; 等。而默认则使用 MetricsQL 的统计方式。&lt;/p&gt;
&lt;p&gt;具体的差异细节请阅读&lt;a href=&#34;https://www.yuque.com/icloudfly/xs51ky/qwvgrmtpg77a33a7&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;这篇文档&lt;/a&gt;。&lt;/p&gt;
&lt;h2&gt;函数列表&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;函数列表&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#%e5%87%bd%e6%95%b0%e5%88%97%e8%a1%a8&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;absent_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;absent_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#absent_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;absent_over_time(series_selector[d])&lt;/code&gt;是一个 rollup 函数，如果给定的向前窗口&lt;code&gt;d&lt;/code&gt;不包含原始样本，则返回1。否则，它将返回一个空结果。&lt;/p&gt;
&lt;p&gt;这个函数在PromQL中得到支持。另请参阅&lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#present_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;present_over_time&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;aggr_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;aggr_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#aggr_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;aggr_over_time((&amp;quot;rollup_func1&amp;quot;, &amp;quot;rollup_func2&amp;quot;, ...), series_selector[d])&lt;/code&gt; 计算给定回溯窗口 &lt;code&gt;d&lt;/code&gt; 上所有列出的 &lt;code&gt;rollup_func* &lt;/code&gt;对原始样本进行汇总。根据给定的series_selector，对每个返回的时间序列进行单独计算。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rollup_func*&lt;/code&gt; 可以是任意一个 rollup 函数。比如，&lt;code&gt;aggr_over_time((&amp;quot;min_over_time&amp;quot;, &amp;quot;max_over_time&amp;quot;, &amp;quot;rate&amp;quot;), m[d])&lt;/code&gt; 就会对&lt;code&gt;m[d]&lt;/code&gt;计算 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#min_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;min_over_time&lt;/a&gt;, &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#max_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;max_over_time&lt;/a&gt; 和 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#rate&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rate&lt;/a&gt; 。&lt;/p&gt;
&lt;h3&gt;ascent_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;ascent_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#ascent_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;ascent_over_time(series_selector[d])&lt;/code&gt; 计算给定时间窗口d上原始样本值的上升。针对&lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt;查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;p&gt;该功能用于在GPS跟踪中跟踪高度增益。Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#descent_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;descent_over_time&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;avg_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;avg_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#avg_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;avg_over_time(series_selector[d])&lt;/code&gt; 计算给定时间窗口d上原始样本值的平均值。针对&lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt;查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;p&gt;这个函数在 PromQL 中也支持，另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#median_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;median_over_time&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;changes&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;changes&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#changes&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;changes(series_selector[d])&lt;/code&gt; 计算给定时间窗口d上原始样本值的变化。针对&lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt;查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;p&gt;不像 Prometheus里的 &lt;code&gt;changes()&lt;/code&gt; ，它考虑了给定时间窗口 d 中最后一个样本的变化，详情请参阅&lt;a href=&#34;https://medium.com/@romanhavronenko/victoriametrics-promql-compliance-d4318203f51e&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;这篇文章&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;这个函数 PromQL 中也支持，另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#changes_prometheus&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;changes_prometheus&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;changes_prometheus&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;changes_prometheus&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#changes_prometheus&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;changes_prometheus(series_selector[d])&lt;/code&gt; 计算时间窗口 d 中原始样本值变化的次数。针对&lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt;查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;p&gt;它不考虑在时间窗口 d 之前的最后一个样本值的变化，这和 Prometheus 的逻辑是一样的。详情请参阅&lt;a href=&#34;https://medium.com/@romanhavronenko/victoriametrics-promql-compliance-d4318203f51e&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;这篇文章&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;这个函数 PromQL 中也支持，另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#changes&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;changes&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;count_eq_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;count_eq_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#count_eq_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;count_eq_over_time(series_selector[d], eq)&lt;/code&gt; 计算时间窗口 d 中原始样本值等于&lt;code&gt;eq&lt;/code&gt;的个数。它针对&lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt;查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#count_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;count_over_time&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;count_gt_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;count_gt_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#count_gt_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;count_gt_over_time(series_selector[d], gt)&lt;/code&gt; 计算时间窗口 d 中原始样本值大于&lt;code&gt;gt&lt;/code&gt;的个数。它针对&lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt;查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#count_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;count_over_time&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;count_le_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;count_le_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#count_le_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;count_le_over_time(series_selector[d], le)&lt;/code&gt; 计算时间窗口 d 中原始样本值小于&lt;code&gt;lt&lt;/code&gt;的个数。它针对&lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt;查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#count_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;count_over_time&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;count_ne_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;count_ne_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#count_ne_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;count_ne_over_time(series_selector[d], ne)&lt;/code&gt; 计算时间窗口 d 中原始样本值不等于&lt;code&gt;ne&lt;/code&gt;的个数。它针对&lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt;查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#count_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;count_over_time&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;count_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;count_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#count_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;count_over_time(series_selector[d])&lt;/code&gt; 计算时间窗口 d 中原始样本值的个数。它针对&lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt;查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;这个函数 PromQL 中也支持，另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#count_le_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;count_le_over_time&lt;/a&gt;, &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#count_gt_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;count_gt_over_time&lt;/a&gt;, &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#count_eq_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;count_eq_over_time&lt;/a&gt; 和 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#count_ne_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;count_ne_over_time&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;decreases_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;decreases_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#decreases_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;decreases_over_time(series_selector[d])&lt;/code&gt; 计算给定时间窗口d上原始样本值的下降值。针对&lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt;查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#increases_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;increases_over_time&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;default_rollup&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;default_rollup&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#default_rollup&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;default_rollup(series_selector[d])&lt;/code&gt; 返回给定时间窗口d中最后一个原始样本。针对&lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt;查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;h3&gt;delta&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;delta&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#delta&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;delta(series_selector[d])&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#rollup-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rollup function&lt;/a&gt;,&lt;/p&gt;
&lt;p&gt;计算给定回溯窗口 d 之前的最后一个样本和该窗口的最后一个样本的差异。针对&lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt;查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;p&gt;MetricsQL中 &lt;code&gt;delta()&lt;/code&gt; 函数的计算逻辑和 Prometheus 中的 delta() 函数计算逻辑存在轻微差异，详情看&lt;a href=&#34;https://www.victoriametrics.com.cn/victoriametrics/shu-ju-cha-xun/metricql/functions/rollup#yu-prometheus-de-pu-bian-cha-yi&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;这里&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;该函数 PromQL 也支持. 另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#increase&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;increase&lt;/a&gt; 和 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#delta_prometheus&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;delta_prometheus&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;delta_prometheus&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;delta_prometheus&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#delta_prometheus&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;delta_prometheus(series_selector[d])&lt;/code&gt; 计算回溯窗口中第一个样本和最后一个样本的差异。针对&lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt;查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;delta_prometheus()&lt;/code&gt; 的计算逻辑和 Prometheus &lt;code&gt;delta()&lt;/code&gt; 一致。 详情看&lt;a href=&#34;https://www.victoriametrics.com.cn/victoriametrics/shu-ju-cha-xun/metricql/functions/rollup#yu-prometheus-de-pu-bian-cha-yi&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;这里&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参见 &lt;a href=&#34;#delta&#34; &gt;delta&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;deriv&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;deriv&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#deriv&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;deriv(series_selector[d])&lt;/code&gt; 计算给定回溯窗口 d 中时序数据的每秒导数。针对 &lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 查询返回的每个时间序列单独执行计算。该导数使用线性回归计算。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;该函数 PromQL 也支持. 另请参阅 &lt;a href=&#34;#WUsKh&#34; &gt;deriv_fast&lt;/a&gt; 和 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#ideriv&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ideriv&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;deriv_fast&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;deriv_fast&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#deriv_fast&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;deriv_fast(series_selector[d])&lt;/code&gt;使用给定回溯窗口 d 中第一个和最后一个 raw sample 来计算每秒导数。针对&lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt;查询返回的每个时间序列单独执行计算。该导数使用线性回归计算。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;#ickEV&#34; &gt;deriv&lt;/a&gt; 和 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#ideriv&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ideriv&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;descent_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;descent_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#descent_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;descent_over_time(series_selector[d])&lt;/code&gt; 计算给定回溯窗口 d 中 raw sample 值的下降量。针对 &lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 查询查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;p&gt;这个功能对于追踪GPS定位中的海拔高度损失非常有用。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;#ascent_over_time&#34; &gt;ascent_over_time&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;distinct_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;distinct_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#distinct_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;distinct_over_time(series_selector[d])&lt;/code&gt; 返回给定回溯窗口 d 中 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt; 值的种类数。针对 &lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 查询查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#count_values_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;count_values_over_time&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;duration_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;duration_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#duration_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;duration_over_time(series_selector[d], max_interval)&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;返回给定的 &lt;!-- raw HTML omitted --&gt;&lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; &lt;!-- raw HTML omitted --&gt;返回的时间序列在给定的回溯窗口&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(6, 6, 7);&amp;quot;&amp;gt;d&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;内存在的持续时间，以秒为单位。预期每个序列相邻样本之间的间隔不超过&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(6, 6, 7);&amp;quot;&amp;gt;max_interval&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;。否则，这样的间隔被忽略不计。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参见 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#lifetime&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;lifetime&lt;/a&gt; 和 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#lag&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;lag&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;first_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;first_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#first_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;first_over_time(series_selector[d])&lt;/code&gt; 返回给定的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的时间序列在给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内的第一个 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt; 值。&lt;/p&gt;
&lt;p&gt;另请参见 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#last_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;last_over_time&lt;/a&gt; 和 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#tfirst_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;tfirst_over_time&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;geomean_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;geomean_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#geomean_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;geomean_over_time(series_selector[d])&lt;/code&gt; 计算给定的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的时间序列在给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt; 值的&lt;a href=&#34;https://en.wikipedia.org/wiki/Geometric_mean&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;geometric mean&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/MetricsQL.html#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;这个函数通常应用于 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;histogram_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;histogram_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#histogram_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;histogram_over_time(series_selector[d])&lt;/code&gt; 对给定的回溯窗口&lt;code&gt;d&lt;/code&gt;中的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 计算 &lt;a href=&#34;https://godoc.org/github.com/VictoriaMetrics/metrics#Histogram&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;VictoriaMetrics histogram&lt;/a&gt;。针对 &lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 查询查询返回的每个时间序列单独执行计算。其计算出来的histograms 可被用来传递给&lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#histogram_quantile&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;histogram_quantile&lt;/a&gt;，用于计算多个&lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;指标的分位值。比如，下面的语句计算每个国家过去 24 小时的温度中位数：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;histogram_quantile(0.5, sum(histogram_over_time(temperature[24h])) by (vmrange,country))&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;该函数通常应用于 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;holt_winters&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;holt_winters&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#holt_winters&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;holt_winters(series_selector[d], sf, tf)&lt;/code&gt; 使用平滑因子&lt;code&gt;sf&lt;/code&gt;和趋势因子&lt;code&gt;tf&lt;/code&gt;对给定回溯窗口&lt;code&gt;d&lt;/code&gt;中的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 计算 Holt-Winters（通过&lt;a href=&#34;https://en.wikipedia.org/wiki/Exponential_smoothing#Double_exponential_smoothing&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;double exponential smoothing&lt;/a&gt;） 值。&lt;code&gt;sf&lt;/code&gt;和&lt;code&gt;tf&lt;/code&gt;的取值范围必须是&lt;code&gt;[0...1]&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;该函数通常应用于 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;。PromQL 也支持该函数。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_linear_regression&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;range_linear_regression&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;idelta&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;idelta&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#idelta&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;idelta(series_selector[d])&lt;/code&gt; 计算给定的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的时间序列在给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内最后 2 个 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt; 值的差异。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;PromQL 也支持该函数。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#delta&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;delta&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;ideriv&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;ideriv&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#ideriv&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;ideriv(series_selector[d])&lt;/code&gt;基于给定回溯窗口&lt;code&gt;d&lt;/code&gt;中最后五个 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 计算秒级导数。该导数针对 &lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#deriv&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;deriv&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;increase&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;increase&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#increase&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;increase(series_selector[d])&lt;/code&gt; 计算给定的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的时间序列在给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内样本值的增量。&lt;/p&gt;
&lt;p&gt;和 Prometheus 不同，它考虑了回溯窗口 d 之前的最后一个 raw sample 值。细节请阅读&lt;a href=&#34;https://www.yuque.com/icloudfly/xs51ky/qwvgrmtpg77a33a7&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;这篇文档&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;该函数通常应用于 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#counter&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;counters&lt;/a&gt;.PromQL 也支持该函数。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#increase_pure&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;increase_pure&lt;/a&gt;, &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#increase_prometheus&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;increase_prometheus&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#delta&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;delta&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;increase_prometheus&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;increase_prometheus&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#increase_prometheus&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;increase_prometheus(series_selector[d])&lt;/code&gt; 计算给定的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的时间序列在给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内样本值的增量。&lt;/p&gt;
&lt;p&gt;计算方式和 Prometheus 一样，它不考虑回溯窗口 d 之前的最后一个 raw sample 值。细节请阅读&lt;a href=&#34;https://www.yuque.com/icloudfly/xs51ky/qwvgrmtpg77a33a7&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;这篇文档&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;该函数通常应用于 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#counter&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;counters&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#increase_pure&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;increase_pure&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#increase&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;increase&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;increase_pure&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;increase_pure&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#increase_pure&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;increase_pure(series_selector[d])&lt;/code&gt;的工作机制和 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#increase&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;increase&lt;/a&gt; 一样，除了一种情况：它假定 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#counter&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;counters&lt;/a&gt; 总是从 0 开始计数，而 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#increase&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;increase&lt;/a&gt; 在第一个值过大时会忽略掉它。&lt;/p&gt;
&lt;p&gt;该函数通常应用于  &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#counter&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;counters&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#increas&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;increase&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#increase_prometheus&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;increase_prometheus&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;increases_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;increases_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#increases_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;increases_over_time(series_selector[d])&lt;/code&gt;计算给定的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的时间序列在给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内出现增加的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt; 值的数量。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#decreases_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;decreases_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;integrate&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;integrate&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#integrate&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;integrate(series_selector[d])&lt;/code&gt; 计算给定的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的时间序列在给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt;s 积分。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;该函数通常应用于  &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;irate&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;irate&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#irate&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;irate(series_selector[d])&lt;/code&gt; 使用给定的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的时间序列在给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内最后 2 个 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt; 计算出每秒增量。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;该函数通常应用于 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#counter&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;counters&lt;/a&gt;，PromQL 也支持该函数。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rate&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rate&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rollup_rate&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rollup_rate&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;lag&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;lag&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#lag&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;lag(series_selector[d])&lt;/code&gt;返回给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内最后一个样本的时间与当前时间的间隔，以秒为单位。其针对 &lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#lifetime&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;lifetime&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#duration_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;duration_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;last_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;last_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#last_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;last_over_time(series_selector[d])&lt;/code&gt;返回给定的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的时间序列在给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内最后 1 个 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;PromQL 也支持该函数。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#first_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;first_over_time&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#tlast_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;tlast_over_time&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;lifetime&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;lifetime&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#lifetime&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;lifetime(series_selector[d])&lt;/code&gt;返回给定的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的时间序列在给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内第一个和最后一个 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt; 的时间间隔，以秒为单位。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#duration_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;duration_over_time&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#lag&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;lag&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;mad_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;mad_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#mad_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;mad_over_time(series_selector[d])&lt;/code&gt;计算给定的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的时间序列在给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt; 的 &lt;a href=&#34;https://en.wikipedia.org/wiki/Median_absolute_deviation&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;median absolute deviation&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;该函数通常应用于 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#mad&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;mad&lt;/a&gt;, &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_mad&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;range_mad&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#outlier_iqr_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;outlier_iqr_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;max_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;max_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#max_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;max_over_time(series_selector[d])&lt;/code&gt;计算给定的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的时间序列在给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt;s 的最大值。&lt;/p&gt;
&lt;p&gt;该函数通常应用于 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;，PromQL 也支持该函数。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#tmax_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;tmax_over_time&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#min_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;min_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;median_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;median_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#median_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;median_over_time(series_selector[d])&lt;/code&gt;计算给定的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的时间序列在给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt;s 的中位数。&lt;/p&gt;
&lt;p&gt;该函数通常应用于  &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#avg_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;avg_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;min_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;min_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#min_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;min_over_time(series_selector[d])&lt;/code&gt;计算给定的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的时间序列在给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt;s 的最小值。&lt;/p&gt;
&lt;p&gt;该函数通常应用于 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;，PromQL 也支持该函数。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#tmin_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;tmin_over_time&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#max_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;max_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;mode_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;mode_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#mode_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;mode_over_time(series_selector[d])&lt;/code&gt; 计算给定的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的时间序列在给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt;s 的&lt;a href=&#34;https://en.wikipedia.org/wiki/Mode_%28statistics%29&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;高频值&lt;/a&gt;。它假定 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt; 值都是离散的&lt;/p&gt;
&lt;p&gt;该函数通常应用于 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;outlier_iqr_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;outlier_iqr_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#outlier_iqr_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;outlier_iqr_over_time(series_selector[d])&lt;/code&gt; 返回给定回溯窗口 d 中最后一个样本，如果它的值小于 &lt;code&gt;q25-1.5*iqr&lt;/code&gt; 或大于 &lt;code&gt;q75+1.5*iqr&lt;/code&gt;，其中：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;iqr&lt;/code&gt; 回溯窗口&lt;code&gt;d&lt;/code&gt;中 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 的 &lt;a href=&#34;https://en.wikipedia.org/wiki/Interquartile_range&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Interquartile range&lt;/a&gt;。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;q25&lt;/code&gt;和&lt;code&gt;q75&lt;/code&gt; 回溯窗口&lt;code&gt;d&lt;/code&gt;中 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 的是 25th and 75th &lt;a href=&#34;https://en.wikipedia.org/wiki/Percentile&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;分位值&lt;/a&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;outlier_iqr_over_time()&lt;/code&gt; 主要用于基于 gauge 指标的历史数据来检测异常。例如，&lt;code&gt;outlier_iqr_over_time(memory_usage_bytes[1h])&lt;/code&gt; 会在&lt;code&gt;memory_usage_bytes&lt;/code&gt;指标突然超出过去一小时的平均值时触发。&lt;/p&gt;
&lt;p&gt;该函数通常应用于  &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#outliers_iqr&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;outliers_iqr&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;predict_linear&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;predict_linear&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#predict_linear&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;predict_linear(series_selector[d], t)&lt;/code&gt; 使用回溯窗口 d 中的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 值，使用线性规划计算在未来 t 秒后的指标值。预测值是针对 &lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;p&gt;PromQL 也支持该函数。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_linear_regression&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;range_linear_regression&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;present_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;present_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#present_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;present_over_time(series_selector[d])&lt;/code&gt; 返回 1 ，如果给定的回溯窗口 d 中至少包含一个 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt;，否则就返回空。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;PromQL 也支持该函数。&lt;/p&gt;
&lt;h3&gt;quantile_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;quantile_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#quantile_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;quantile_over_time(phi, series_selector[d])&lt;/code&gt;计算给定的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的时间序列在给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt;s 的&lt;code&gt;phi&lt;/code&gt;分位值。其中 phi 值的取值范围必须是&lt;code&gt;[0...1]&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;该函数通常应用于 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;，PromQL 也支持该函数。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#quantiles_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;quantiles_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;quantiles_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;quantiles_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#quantiles_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;quantiles_over_time(&amp;quot;phiLabel&amp;quot;, phi1, ..., phiN, series_selector[d])&lt;/code&gt; 计算给定的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的时间序列在给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt;s 的&lt;code&gt;phi*&lt;/code&gt;分位值，给函数针对每一个&lt;code&gt;phi*&lt;/code&gt;都返回一个独立的带有&lt;code&gt;{phiLabel=&amp;quot;phi*&amp;quot;}&lt;/code&gt;Label 的序列。&lt;code&gt;phi*&lt;/code&gt; 的取值范围必须是&lt;code&gt;[0...1]&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;该函数通常应用于  &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#quantile_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;quantile_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;range_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;range_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#range_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;range_over_time(series_selector[d])&lt;/code&gt;计算给定的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的时间序列在给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt;s 的取值范围（最大值-最小值）。它等价于&lt;code&gt;max_over_time(series_selector[d]) - min_over_time(series_selector[d])&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;该函数通常应用于 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;rate&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;rate&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#rate&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;rate(series_selector[d])&lt;/code&gt;计算给定的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的时间序列在给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt;s 的平均每秒增长值。&lt;/p&gt;
&lt;p&gt;如果中括号里的回溯窗口大小没有指定，则自动使用&lt;code&gt;max(step, scrape_interval)&lt;/code&gt;，其中 step 是传递给 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#range-query&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;/api/v1/query_range&lt;/a&gt; 或 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#instant-query&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;/api/v1/query&lt;/a&gt; 的请求参数，而&lt;code&gt;scrape_interval&lt;/code&gt;则是 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 之间的间隔。这避免当 step 小于&lt;code&gt;scrape_interval&lt;/code&gt;时，图表中出现了非预期的断点现象。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;PromQL 也支持该函数。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#irate&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;irate&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rollup_rate&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rollup_rate&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;rate_over_sum&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;rate_over_sum&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#rate_over_sum&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;rate_over_sum(series_selector[d])&lt;/code&gt;计算给定回溯窗口&lt;code&gt;d&lt;/code&gt;中 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 总和的每秒增量。该计算针对 &lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;p&gt;该函数通常应用于 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;h3&gt;resets&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;resets&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#resets&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;resets(series_selector[d])&lt;/code&gt;计算给定的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的时间序列在给定的回溯窗口&lt;code&gt;d&lt;/code&gt;内 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt;s 中出现 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#counter&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;counter&lt;/a&gt; 重置的次数。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;该函数通常应用于 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#counter&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;counters&lt;/a&gt;，Counter 重置通常代表服务发生了重启。&lt;/p&gt;
&lt;p&gt;PromQL 也支持该函数。&lt;/p&gt;
&lt;h3&gt;rollup&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;rollup&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#rollup&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;rollup(series_selector[d])&lt;/code&gt; 对给定的回溯窗口&lt;code&gt;d&lt;/code&gt;中的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 计算最小值、最大值和平均值，并在返回的时序数据中带上&lt;code&gt;rollup=&amp;quot;min&amp;quot;&lt;/code&gt;, &lt;code&gt;rollup=&amp;quot;max&amp;quot;&lt;/code&gt; 和 &lt;code&gt;rollup=&amp;quot;avg&amp;quot;&lt;/code&gt;Label。该计算针对 &lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;p&gt;支持第二个参数，是可选参数，可传入&lt;code&gt;&amp;quot;min&amp;quot;&lt;/code&gt;, &lt;code&gt;&amp;quot;max&amp;quot;&lt;/code&gt; 或 &lt;code&gt;&amp;quot;avg&amp;quot;&lt;/code&gt; 代表只计算一种值并且不需要追加额外的 rollup label。另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#label_match&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;label_match&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;该函数通常应用于  &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rollup_rate&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rollup_rate&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;rollup_candlestick&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;rollup_candlestick&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#rollup_candlestick&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;rollup_candlestick(series_selector[d])&lt;/code&gt;对给定的回溯窗口&lt;code&gt;d&lt;/code&gt;中的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 使用 OHLC 计算&lt;code&gt;open&lt;/code&gt;, &lt;code&gt;high&lt;/code&gt;, &lt;code&gt;low&lt;/code&gt; and &lt;code&gt;close&lt;/code&gt;，并在返回的时序数据中带上&lt;code&gt;rollup=&amp;quot;open&amp;quot;&lt;/code&gt;, &lt;code&gt;rollup=&amp;quot;high&amp;quot;&lt;/code&gt;, &lt;code&gt;rollup=&amp;quot;low&amp;quot;&lt;/code&gt; and &lt;code&gt;rollup=&amp;quot;close&amp;quot;&lt;/code&gt;Label。该计算针对 &lt;a href=&#34;https://docs.victoriametrics.com/keyConcepts.html#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 查询返回的每个时间序列单独执行计算。&lt;/p&gt;
&lt;p&gt;支持第二个参数，是可选参数，可传入&lt;code&gt;&amp;quot;open&amp;quot;&lt;/code&gt;, &lt;code&gt;&amp;quot;high&amp;quot;&lt;/code&gt;或&lt;code&gt;&amp;quot;low&amp;quot;&lt;/code&gt;或&lt;code&gt;&amp;quot;close&amp;quot;&lt;/code&gt; 代表只计算一种值并且不需要追加额外的 rollup label。另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#label_match&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;label_match&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;该函数通常应用于  &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;rollup_delta&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;rollup_delta&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#rollup_delta&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;rollup_delta(series_selector[d]) &lt;/code&gt;计算给定回溯窗口&lt;code&gt;d&lt;/code&gt;上相邻 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 之间的差异，并返回计算出的差异的最小值、最大值和平均值，并在时间序列中附加&lt;code&gt;rollup=&amp;quot;min&amp;quot;&lt;/code&gt;、&lt;code&gt;rollup=&amp;quot;max&amp;quot;&lt;/code&gt; 和 &lt;code&gt;rollup=&amp;quot;avg&amp;quot;&lt;/code&gt; Label。计算是针对从给定 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的每个时间序列单独进行的。&lt;/p&gt;
&lt;p&gt;可以传递可选的第二个参数 &lt;code&gt;&amp;quot;min&amp;quot;&lt;/code&gt;、&lt;code&gt;&amp;quot;max&amp;quot;&lt;/code&gt; 或 &lt;code&gt;&amp;quot;avg&amp;quot;&lt;/code&gt; 来仅保留一个计算结果，并且不添加标签。&lt;/p&gt;
&lt;p&gt;Metric 名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rollup_increase&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rollup_increase&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;rollup_deriv&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;rollup_deriv&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#rollup_deriv&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;rollup_deriv(series_selector[d]) &lt;/code&gt;计算给定回溯窗口&lt;code&gt;d&lt;/code&gt;上相邻 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 之间的每秒导数，并返回计算出的差异的最小值、最大值和平均值，并在时间序列中附加&lt;code&gt;rollup=&amp;quot;min&amp;quot;&lt;/code&gt;、&lt;code&gt;rollup=&amp;quot;max&amp;quot;&lt;/code&gt; 和 &lt;code&gt;rollup=&amp;quot;avg&amp;quot;&lt;/code&gt; Label。计算是针对从给定 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的每个时间序列单独进行的。&lt;/p&gt;
&lt;p&gt;可以传递可选的第二个参数 &lt;code&gt;&amp;quot;min&amp;quot;&lt;/code&gt;、&lt;code&gt;&amp;quot;max&amp;quot;&lt;/code&gt; 或 &lt;code&gt;&amp;quot;avg&amp;quot;&lt;/code&gt; 来仅保留一个计算结果，并且不添加标签。另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#label_match&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;label_match&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rollup&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rollup&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rollup_rate&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rollup_rate&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;rollup_increase&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;rollup_increase&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#rollup_increase&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;rollup_increase(series_selector[d]) &lt;/code&gt;计算给定回溯窗口&lt;code&gt;d&lt;/code&gt;上相邻 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 之间的增加值，并返回计算出的差异的最小值、最大值和平均值，并在时间序列中附加&lt;code&gt;rollup=&amp;quot;min&amp;quot;&lt;/code&gt;、&lt;code&gt;rollup=&amp;quot;max&amp;quot;&lt;/code&gt; 和 &lt;code&gt;rollup=&amp;quot;avg&amp;quot;&lt;/code&gt; Label。计算是针对从给定 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的每个时间序列单独进行的。&lt;/p&gt;
&lt;p&gt;可以传递可选的第二个参数 &lt;code&gt;&amp;quot;min&amp;quot;&lt;/code&gt;、&lt;code&gt;&amp;quot;max&amp;quot;&lt;/code&gt; 或 &lt;code&gt;&amp;quot;avg&amp;quot;&lt;/code&gt; 来仅保留一个计算结果，并且不添加标签。另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#label_match&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;label_match&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。 另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rollup_delta&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rollup_delta&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;该函数通常应用于  &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#counter&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;counters&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rollup&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rollup&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rollup_rate&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rollup_rate&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;rollup_rate&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;rollup_rate&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#rollup_rate&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;rollup_rate(series_selector[d]) &lt;/code&gt;计算给定回溯窗口&lt;code&gt;d&lt;/code&gt;上相邻 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 之间的每秒变化量，并返回计算出的差异的最小值、最大值和平均值，并在时间序列中附加&lt;code&gt;rollup=&amp;quot;min&amp;quot;&lt;/code&gt;、&lt;code&gt;rollup=&amp;quot;max&amp;quot;&lt;/code&gt; 和 &lt;code&gt;rollup=&amp;quot;avg&amp;quot;&lt;/code&gt; Label。计算是针对从给定 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的每个时间序列单独进行的。&lt;/p&gt;
&lt;p&gt;可以传递可选的第二个参数 &lt;code&gt;&amp;quot;min&amp;quot;&lt;/code&gt;、&lt;code&gt;&amp;quot;max&amp;quot;&lt;/code&gt; 或 &lt;code&gt;&amp;quot;avg&amp;quot;&lt;/code&gt; 来仅保留一个计算结果，并且不添加标签。另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#label_match&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;label_match&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;该函数通常应用于  &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#counter&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;counters&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rollup&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rollup&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rollup_increase&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rollup_increase&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;rollup_scrape_interval&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;rollup_scrape_interval&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#rollup_scrape_interval&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;rollup_scrape_interval(series_selector[d]) &lt;/code&gt;计算给定回溯窗口&lt;code&gt;d&lt;/code&gt;上相邻 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 之间的间隔的秒数（通常是数据的采集间隔），并返回计算出的差异的最小值、最大值和平均值，并在时间序列中附加&lt;code&gt;rollup=&amp;quot;min&amp;quot;&lt;/code&gt;、&lt;code&gt;rollup=&amp;quot;max&amp;quot;&lt;/code&gt; 和 &lt;code&gt;rollup=&amp;quot;avg&amp;quot;&lt;/code&gt; Label。计算是针对从给定 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的每个时间序列单独进行的。&lt;/p&gt;
&lt;p&gt;可以传递可选的第二个参数 &lt;code&gt;&amp;quot;min&amp;quot;&lt;/code&gt;、&lt;code&gt;&amp;quot;max&amp;quot;&lt;/code&gt; 或 &lt;code&gt;&amp;quot;avg&amp;quot;&lt;/code&gt; 来仅保留一个计算结果，并且不添加标签。另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#label_match&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;label_match&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。 另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#scrape_interval&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;scrape_interval&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;scrape_interval&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;scrape_interval&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#scrape_interval&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;scrape_interval(series_selector[d]) &lt;/code&gt;计算给定回溯窗口&lt;code&gt;d&lt;/code&gt;上相邻 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 之间的间隔的平均秒数（通常是数据的采集间隔）并返回。计算是针对从给定 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt; 返回的每个时间序列单独进行的。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rollup_scrape_interval&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rollup_scrape_interval&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;share_gt_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;share_gt_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#share_gt_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;share_gt_over_time(series_selector[d], gt)&lt;/code&gt; 返回给定回溯窗口&lt;code&gt;d&lt;/code&gt;上大于&lt;code&gt;gt&lt;/code&gt;的原始样本的比例（范围在&lt;code&gt;[0...1]&lt;/code&gt;之间）。该比例是针对从给定&lt;code&gt;series_selector&lt;/code&gt;返回的每个时间序列独立计算的。&lt;/p&gt;
&lt;p&gt;此函数对于计算 SLI 和 SLO 非常有用。例如：&lt;code&gt;share_gt_over_time(up[24h], 0)&lt;/code&gt; - 返回过去 24 小时的服务可用性。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;该函数通常应用于  &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#share_le_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;share_le_over_time&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#count_gt_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;count_gt_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;share_le_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;share_le_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#share_le_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;share_le_over_time(series_selector[d], le)&lt;/code&gt; 返回给定回溯窗口&lt;code&gt;d&lt;/code&gt;上小于&lt;code&gt;le&lt;/code&gt;的原始样本的比例（范围在&lt;code&gt;[0...1]&lt;/code&gt;之间）。该比例是针对从给定&lt;code&gt;series_selector&lt;/code&gt;返回的每个时间序列独立计算的。&lt;/p&gt;
&lt;p&gt;此函数对于计算 SLI 和 SLO 非常有用。例如：&lt;code&gt;share_le_over_time(memory_usage_bytes[24h], 100*1024*1024)&lt;/code&gt; - 返回过去 24 小时的内存使用率小于等于&lt;code&gt;100MB&lt;/code&gt;的时间占比。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 keep_metric_names 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;该函数通常应用于  &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#share_gt_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;share_gt_over_time&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#count_le_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;count_le_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;share_eq_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;share_eq_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#share_eq_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;share_eq_over_time(series_selector[d], eq)&lt;/code&gt; 返回给定回溯窗口&lt;code&gt;d&lt;/code&gt;上等于&lt;code&gt;eq&lt;/code&gt;的原始样本的比例（范围在&lt;code&gt;[0...1]&lt;/code&gt;之间）。该比例是针对从给定&lt;code&gt;series_selector&lt;/code&gt;返回的每个时间序列独立计算的。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;该函数通常应用于  &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#count_eq_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;count_eq_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;stddev_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;stddev_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#stddev_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;stddev_over_time(series_selector[d])&lt;/code&gt; 对 &lt;code&gt;series_selector&lt;/code&gt;返回的每个时间序列计算给定回溯窗口&lt;code&gt;d&lt;/code&gt;上原始样本的标准差。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;该函数通常应用于  &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;PromQL 也支持该函数。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#stdvar_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;stdvar_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;stdvar_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;stdvar_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#stdvar_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;stdvar_over_time(series_selector[d])&lt;/code&gt; 针对&lt;code&gt;series_selector&lt;/code&gt;返回的每条时间序列独立计算，算出给定回溯窗口&lt;code&gt;d&lt;/code&gt;上 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 的方差并返回。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;该函数通常应用于  &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;PromQL 也支持该函数。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#stddev_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;stddev_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;sum_eq_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;sum_eq_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sum_eq_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;sum_eq_over_time(series_selector[d], eq)&lt;/code&gt; 针对 &lt;code&gt;series_selector&lt;/code&gt; 返回的每条时间序列独立计算，算出给定回溯窗口 &lt;code&gt;d&lt;/code&gt; 上等于 &lt;code&gt;eq&lt;/code&gt; 的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 值的总和并返回。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;该函数通常应用于  &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sum_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sum_over_time&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#count_eq_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;count_eq_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;sum_gt_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;sum_gt_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sum_gt_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;sum_gt_over_time(series_selector[d], gt)&lt;/code&gt; 针对&lt;code&gt;series_selector&lt;/code&gt;返回的每条时间序列独立计算，算出给定回溯窗口 &lt;code&gt;d&lt;/code&gt; 上大于 &lt;code&gt;gt&lt;/code&gt; 的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 值的总和并返回。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;该函数通常应用于  &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sum_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sum_over_time&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#count_gt_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;count_gt_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;sum_le_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;sum_le_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sum_le_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;sum_le_over_time(series_selector[d], le)&lt;/code&gt; 针对&lt;code&gt;series_selector&lt;/code&gt;返回的每条时间序列独立计算，算出给定回溯窗口&lt;code&gt;d&lt;/code&gt;上小于或等于 &lt;code&gt;le&lt;/code&gt; 的 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 值的总和并返回。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;该函数通常应用于  &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sum_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sum_over_time&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#count_le_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;count_le_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;sum_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;sum_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sum_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;sum_over_time(series_selector[d])&lt;/code&gt;是一个汇总函数，它针对 &lt;code&gt;series_selector&lt;/code&gt; 返回的每条时间序列独立计算，算出给定回溯窗口&lt;code&gt;d&lt;/code&gt;上 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 值的总和并返回。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;该函数通常应用于  &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;PromQL 也支持该函数。&lt;/p&gt;
&lt;h3&gt;sum2_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;sum2_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sum2_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;sum2_over_time(series_selector[d])&lt;/code&gt;针对&lt;code&gt;series_selector&lt;/code&gt;返回的每条时间序列独立计算，算出给定回溯窗口&lt;code&gt;d&lt;/code&gt;上 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; 值的平方和并返回。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;该函数通常应用于  &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;timestamp&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;timestamp&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#timestamp&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;timestamp(series_selector[d])&lt;/code&gt; 针对 &lt;code&gt;series_selector&lt;/code&gt; 返回的每条时间序列独立计算，返回给定回溯窗口 &lt;code&gt;d&lt;/code&gt; 上最后一个 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt; 的时间戳（以秒为单位，精确到毫秒）。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;PromQL 也支持该函数。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;time&lt;/a&gt; 和 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#now&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;now&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;timestamp_with_name&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;timestamp_with_name&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#timestamp_with_name&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;timestamp_with_name(series_selector[d])&lt;/code&gt;针对 &lt;code&gt;series_selector&lt;/code&gt; 返回的每条时间序列独立计算，返回给定回溯窗口 &lt;code&gt;d&lt;/code&gt; 上最后一个 &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw sample&lt;/a&gt; 的时间戳（以秒为单位，精确到毫秒）。&lt;/p&gt;
&lt;p&gt;和 timestamp 函数区别是在汇总结果中保留了 Metric  名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#timestamp&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;timestamp&lt;/a&gt; 和 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器.&lt;/p&gt;
&lt;h3&gt;tfirst_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;tfirst_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#tfirst_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;tfirst_over_time(series_selector[d])&lt;/code&gt;针对 &lt;code&gt;series_selector&lt;/code&gt; 返回的每条时间序列独立计算，返回给定回溯窗口 &lt;code&gt;d&lt;/code&gt; 上第一个 raw sample 的时间戳（以秒为单位，精确到毫秒）。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#first_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;first_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;tlast_change_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;tlast_change_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#tlast_change_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;tlast_change_over_time (series_selector [d])&lt;/code&gt; 针对 &lt;code&gt;series_selector&lt;/code&gt; 返回的每条时间序列独立计算，返回给定回溯窗口 &lt;code&gt;d&lt;/code&gt; 上最后一次变化的时间戳（以秒为单位，精确到毫秒）。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#last_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;last_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;tlast_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;tlast_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#tlast_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;tlast_over_time&lt;/code&gt; 是 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#timestamp&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;timestamp&lt;/a&gt; 函数的别名。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#tlast_change_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;tlast_change_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;tmax_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;tmax_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#tmax_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;tmax_over_time(series_selector[d])&lt;/code&gt;返回给定回溯窗口 &lt;code&gt;d&lt;/code&gt; 上具有最大值的 raw sample 的时间戳（以秒为单位，精确到毫秒）。它针对 &lt;code&gt;series_selector&lt;/code&gt; 返回的每条时间序列独立计算。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#max_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;max_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;tmin_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;tmin_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#tmin_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;tmin_over_time(series_selector[d])&lt;/code&gt;返回给定回溯窗口 &lt;code&gt;d&lt;/code&gt; 上具有最小值的 raw sample 的时间戳（以秒为单位，精确到毫秒）。它针对 &lt;code&gt;series_selector&lt;/code&gt; 返回的每条时间序列独立计算。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#min_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;min_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;zscore_over_time&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;zscore_over_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#zscore_over_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;zscore_over_time(series_selector[d])&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rollup-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rollup function&lt;/a&gt;, which returns &lt;a href=&#34;https://en.wikipedia.org/wiki/Standard_score&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;z-score&lt;/a&gt; for &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#raw-samples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;raw samples&lt;/a&gt; on the given lookbehind window &lt;code&gt;d&lt;/code&gt;. It is calculated independently per each time series returned from the given &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;zscore_over_time(series_selector[d])&lt;/code&gt;返回给定回溯窗口 &lt;code&gt;d&lt;/code&gt; 上 raw samples 的 &lt;a href=&#34;https://en.wikipedia.org/wiki/Standard_score&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;z-score&lt;/a&gt;。它针对 &lt;code&gt;series_selector&lt;/code&gt; 返回的每条时间序列独立计算。&lt;/p&gt;
&lt;p&gt;Metric名称将从计算结果中剥离。增加 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; 修改器来保留 Metric 名称。&lt;/p&gt;
&lt;p&gt;该函数通常应用于  &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#gauge&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gauges&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#zscore&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;zscore&lt;/a&gt;, &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_trim_zscore&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;range_trim_zscore&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#outlier_iqr_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;outlier_iqr_over_time&lt;/a&gt;.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>操作 Label</title>
      <link>http://localhost:1313/docs/query/metricsql/functions/label/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>http://localhost:1313/docs/query/metricsql/functions/label/</guid>
      <description>
        
        
        &lt;p&gt;&lt;!-- raw HTML omitted --&gt;Label 操作函数对选定的 Rollup 计算结果进行 Label 转换。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;附加细节：&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;如果 Label 操作函数直接应用于&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(34, 34, 34);&amp;quot;&amp;gt;series_selector&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;，那么在执行 Label 转换之前，会自动应用&lt;!-- raw HTML omitted --&gt;&lt;code&gt;[default_rollup](https://docs.victoriametrics.com/metricsql/#default_rollup)&amp;lt;font style=&amp;quot;color:rgb(34, 34, 34);&amp;quot;&amp;gt;()&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;函数。例如，&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(34, 34, 34);&amp;quot;&amp;gt;alias(temperature, &amp;quot;foo&amp;quot;)&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 会被隐式转换为 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(34, 34, 34);&amp;quot;&amp;gt;alias(default_rollup(temperature), &amp;quot;foo&amp;quot;)&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;。&lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;请参阅&lt;!-- raw HTML omitted --&gt;[隐式查询转换](implicit query conversions)&lt;!-- raw HTML omitted --&gt;。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;支持的 Label 操作函数如下：&lt;/p&gt;
&lt;h3&gt;alias&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;alias&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#alias&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;alias(q, &amp;quot;name&amp;quot;)&lt;/code&gt; 将&lt;code&gt;q&lt;/code&gt;返回的所有时间序列更名为&lt;code&gt;name&lt;/code&gt;。例如，&lt;code&gt;alias(up, &amp;quot;foobar&amp;quot;)&lt;/code&gt; 会将&lt;code&gt;up&lt;/code&gt;序列重命名为&lt;code&gt;foobar&lt;/code&gt; 序列。&lt;/p&gt;
&lt;h3&gt;drop_common_labels&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;drop_common_labels&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#drop_common_labels&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;drop_common_labels(q1, ...., qN)&lt;/code&gt;会删除 &lt;code&gt;q1, ..., qN&lt;/code&gt; 返回的时间序列中共有的&lt;code&gt;label=&amp;quot;value&amp;quot;&lt;/code&gt;。&lt;/p&gt;
&lt;h3&gt;label_copy&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;label_copy&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#label_copy&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;label_copy(q, &amp;quot;src_label1&amp;quot;, &amp;quot;dst_label1&amp;quot;, ..., &amp;quot;src_labelN&amp;quot;, &amp;quot;dst_labelN&amp;quot;)&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;将&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;src_label*&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;的 Label 值复制到&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;q&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;返回的所有时间序列的&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;dst_label*&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;。如果&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;src_label&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;为空，则相应的 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;dst_label&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;保持不变。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3&gt;label_del&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;label_del&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#label_del&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;label_del(q, &amp;quot;label1&amp;quot;, ..., &amp;quot;labelN&amp;quot;)&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;删除&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;q&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;返回的所有时间序列中名为&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;label*&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;的所有 Label。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3&gt;label_join&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;label_join&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#label_join&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;label_join(q, &amp;quot;dst_label&amp;quot;, &amp;quot;separator&amp;quot;, &amp;quot;src_label1&amp;quot;, ..., &amp;quot;src_labelN&amp;quot;)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;它将&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;src_label*&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;的值用给定的&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;separator&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;连接起来，并将结果存储在&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;dst_label&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;中。这是针对 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;q&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 返回的每条时间序列独立执行的。例如，&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;label_join(up{instance=&amp;quot;xxx&amp;quot;,job=&amp;quot;yyy&amp;quot;}, &amp;quot;foo&amp;quot;, &amp;quot;-&amp;quot;, &amp;quot;instance&amp;quot;, &amp;quot;job&amp;quot;)&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 会将&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;xxx-yyy&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;标签值存储到&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;foo&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;标签中。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;该函数在 PromQL 中也支持。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3&gt;label_keep&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;label_keep&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#label_keep&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;label_keep(q, &amp;quot;label1&amp;quot;, ..., &amp;quot;labelN&amp;quot;)&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;删除 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;q&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 返回的所有时间序列中除列出的 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;label*&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; Label 之外的其他所有 Label。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3&gt;label_lowercase&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;label_lowercase&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#label_lowercase&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;label_lowercase(q, &amp;quot;label1&amp;quot;, ..., &amp;quot;labelN&amp;quot;)&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;将 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;q&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 返回的所有时间序列中名为&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;label*&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;的 Label 值转换成小写字母。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3&gt;label_map&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;label_map&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#label_map&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;label_map(q, &amp;quot;label&amp;quot;, &amp;quot;src_value1&amp;quot;, &amp;quot;dst_value1&amp;quot;, ..., &amp;quot;src_valueN&amp;quot;, &amp;quot;dst_valueN&amp;quot;)&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;遍历 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;q&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 返回的所有时间序列，将所有 Label 值是&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;src_value*&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;的 Label 值对应的&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;dst_value*&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3&gt;label_match&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;label_match&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#label_match&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;label_match(q, &amp;quot;label&amp;quot;, &amp;quot;regexp&amp;quot;)&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;会删除 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(34, 34, 34);&amp;quot;&amp;gt;q&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 中&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(34, 34, 34);&amp;quot;&amp;gt;label&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;值不匹配给定正则表达式&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(34, 34, 34);&amp;quot;&amp;gt;regexp&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;的时间序列。&lt;!-- raw HTML omitted --&gt;&lt;strong&gt;&lt;!-- raw HTML omitted --&gt;此函数在类 rollup 函数之后会比较有用，因为这些类 rollup 函数可能会为每个输入序列返回多个时间序列。&lt;!-- raw HTML omitted --&gt;&lt;/strong&gt;&lt;br&gt;
&lt;!-- raw HTML omitted --&gt;另请参见 &lt;!-- raw HTML omitted --&gt;&lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#label_mismatch&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;label_mismatch&lt;/a&gt;&lt;!-- raw HTML omitted --&gt; 和 &lt;!-- raw HTML omitted --&gt;&lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#labels_equal&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;labels_equal&lt;/a&gt;&lt;!-- raw HTML omitted --&gt;。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3&gt;label_mismatch&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;label_mismatch&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#label_mismatch&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;label_mismatch(q, &amp;quot;label&amp;quot;, &amp;quot;regexp&amp;quot;)&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;会删除 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(34, 34, 34);&amp;quot;&amp;gt;q&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 中&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(34, 34, 34);&amp;quot;&amp;gt;label&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;值匹配给定正则表达式&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(34, 34, 34);&amp;quot;&amp;gt;regexp&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;的时间序列。&lt;!-- raw HTML omitted --&gt;&lt;strong&gt;&lt;!-- raw HTML omitted --&gt;此函数在类 rollup 函数之后会比较有用，因为这些类 rollup 函数可能会为每个输入序列返回多个时间序列。&lt;!-- raw HTML omitted --&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#label_match&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;label_match&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#labels_equal&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;labels_equal&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;label_move&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;label_move&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#label_move&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;label_move(q, &amp;quot;src_label1&amp;quot;, &amp;quot;dst_label1&amp;quot;, ..., &amp;quot;src_labelN&amp;quot;, &amp;quot;dst_labelN&amp;quot;)&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;它将&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;src_label*&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;的 Label 值移动到&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;q&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;返回的所有时间序列的&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;dst_label*&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;。如果 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;src_label&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 为空，则相应的 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;dst_label&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 保持不变。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3&gt;label_replace&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;label_replace&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#label_replace&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;label_replace(q, &amp;quot;dst_label&amp;quot;, &amp;quot;replacement&amp;quot;, &amp;quot;src_label&amp;quot;, &amp;quot;regex&amp;quot;)&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;它将给定的正则表达式 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;regexp&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 应用于 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;src_label&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;，如果给定的正则表达式匹配 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;src_label&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;，则将替换内容存储在 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;dst_label&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 中。替换内容可以包含对正则表达式捕获组的引用，例如 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;$1&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;、&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;$2&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 等。这些引用会被相应的正则表达式捕获组替换。例如，&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;label_replace(up{job=&amp;quot;node-exporter&amp;quot;}, &amp;quot;foo&amp;quot;, &amp;quot;bar-$1&amp;quot;, &amp;quot;job&amp;quot;, &amp;quot;node-(.+)&amp;quot;)&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 会将 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;bar-exporter&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 标签值存储到 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;foo&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 标签中。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;该函数在 PromQL 中也支持。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3&gt;label_set&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;label_set&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#label_set&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;label_set(q, &amp;quot;label1&amp;quot;, &amp;quot;value1&amp;quot;, ..., &amp;quot;labelN&amp;quot;, &amp;quot;valueN&amp;quot;)&lt;/code&gt;将&lt;code&gt;{label1=&amp;quot;value1&amp;quot;, ..., labelN=&amp;quot;valueN&amp;quot;}&lt;/code&gt;这些 Label 添加到&lt;code&gt;q&lt;/code&gt;返回的每条时间序列数据里。&lt;/p&gt;
&lt;h3&gt;label_transform&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;label_transform&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#label_transform&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;label_transform(q, &amp;quot;label&amp;quot;, &amp;quot;regexp&amp;quot;, &amp;quot;replacement&amp;quot;)&lt;/code&gt; &lt;!-- raw HTML omitted --&gt;将给定 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;label&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 中所有匹配正则表达式 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;regexp&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 的部分替换为指定的 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;replacement&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3&gt;label_uppercase&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;label_uppercase&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#label_uppercase&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;label_uppercase(q, &amp;quot;label1&amp;quot;, ..., &amp;quot;labelN&amp;quot;)&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;将 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;q&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 返回的所有时间序列中名为&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;label*&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;的 Label 值转换成大写字母。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;另请参见 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#label_lowercase&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;label_lowercase&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;label_value&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;label_value&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#label_value&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;label_value(q, &amp;quot;label&amp;quot;)&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;它为 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;q&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 返回的每条时间序列中的给定 label 的值作为指标 value 返回（原指标 value 被忽略）。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;例如，如果 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;label_value(foo, &amp;quot;bar&amp;quot;)&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 应用于 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;foo{bar=&amp;quot;1.234&amp;quot;}&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;，那么它将返回一个值为&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;1.234&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;的时间序列&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;foo{bar=&amp;quot;1.234&amp;quot;}&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;. 对于 label 值是非数值类型情况，该函数将不返回数据。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3&gt;labels_equal&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;labels_equal&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#labels_equal&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;labels_equal(q, &amp;quot;label1&amp;quot;, &amp;quot;label2&amp;quot;, ...)&lt;/code&gt;在 q &lt;!-- raw HTML omitted --&gt;返回每条时间序列里，寻找 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(34, 34, 34);&amp;quot;&amp;gt;“label1”&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;、&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(34, 34, 34);&amp;quot;&amp;gt;“label2”&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 值相等的时间序列，并返回。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#label_match&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;label_match&lt;/a&gt; 和 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#label_mismatch&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;label_mismatch&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;sort_by_label&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;sort_by_label&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sort_by_label&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;sort_by_label(q, &amp;quot;label1&amp;quot;, ... &amp;quot;labelN&amp;quot;)&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;根据给定的一组 Label 按升序排序序列。例如，&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;sort_by_label(foo, &amp;quot;bar&amp;quot;)&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 会根据这些序列中 Label &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;bar&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;的值对&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;foo&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;序列进行排序。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sort_by_label_desc&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sort_by_label_desc&lt;/a&gt; 和 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sort_by_label_numeric&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sort_by_label_numeric&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;sort_by_label_desc&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;sort_by_label_desc&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sort_by_label_desc&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;sort_by_label&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 的反向操作，即降序排列。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3&gt;sort_by_label_numeric&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;sort_by_label_numeric&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sort_by_label_numeric&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;sort_by_label_numeric(q, &amp;quot;label1&amp;quot;, ... &amp;quot;labelN&amp;quot;)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#label-manipulation-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;label manipulation function&lt;/a&gt;, which sorts series in ascending order by the given set of labels using &lt;a href=&#34;https://www.gnu.org/software/coreutils/manual/html_node/Version-sort-is-not-the-same-as-numeric-sort.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;numeric sort&lt;/a&gt;. For example, if &lt;code&gt;foo&lt;/code&gt; series have &lt;code&gt;bar&lt;/code&gt; label with values &lt;code&gt;1&lt;/code&gt;, &lt;code&gt;101&lt;/code&gt;, &lt;code&gt;15&lt;/code&gt; and &lt;code&gt;2&lt;/code&gt;, then &lt;code&gt;sort_by_label_numeric(foo, &amp;quot;bar&amp;quot;)&lt;/code&gt; would return series in the following order of &lt;code&gt;bar&lt;/code&gt; label values: &lt;code&gt;1&lt;/code&gt;, &lt;code&gt;2&lt;/code&gt;, &lt;code&gt;15&lt;/code&gt; and &lt;code&gt;101&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;sort_by_label_numeric(q, &amp;quot;label1&amp;quot;, ... &amp;quot;labelN&amp;quot;)&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;根据给定的一组 Label 使用数值排序，按升序排序序列。例如，如果 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;foo&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 序列的 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;bar&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 标签值为 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;1&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;、&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;101&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;、&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;15&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 和 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;2&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;，那么 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;sort_by_label_numeric(foo, &amp;quot;bar&amp;quot;)&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;会按 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;bar&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 标签值的以下顺序返回序列：&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;1&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;、&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;2&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;、&lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;15&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt; 和 &lt;!-- raw HTML omitted --&gt;&lt;code&gt;&amp;lt;font style=&amp;quot;color:rgb(31, 35, 41);&amp;quot;&amp;gt;101&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;!-- raw HTML omitted --&gt;。&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;另请参阅 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sort_by_label_numeric_desc&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sort_by_label_numeric_desc&lt;/a&gt; 和 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sort_by_label&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sort_by_label&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;sort_by_label_numeric_desc&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;sort_by_label_numeric_desc&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sort_by_label_numeric_desc&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;sort_by_label_numeric&lt;/code&gt;的反向操作，即降序排列。&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>聚合统计</title>
      <link>http://localhost:1313/docs/query/metricsql/functions/aggregation/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>http://localhost:1313/docs/query/metricsql/functions/aggregation/</guid>
      <description>
        
        
        &lt;p&gt;&lt;strong&gt;Aggregate functions&lt;/strong&gt; calculate aggregates over groups of &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rollup-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rollup results&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Additional details:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;By default, a single group is used for aggregation. Multiple independent groups can be set up by specifying grouping labels in &lt;code&gt;by&lt;/code&gt; and &lt;code&gt;without&lt;/code&gt; modifiers. For example, &lt;code&gt;count(up) by (job)&lt;/code&gt; would group &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rollup-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rollup results&lt;/a&gt; by &lt;code&gt;job&lt;/code&gt; label value and calculate the &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#count&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;count&lt;/a&gt; aggregate function independently per each group, while &lt;code&gt;count(up) without (instance)&lt;/code&gt; would group &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rollup-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rollup results&lt;/a&gt; by all the labels except &lt;code&gt;instance&lt;/code&gt; before calculating &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#count&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;count&lt;/a&gt; aggregate function independently per each group. Multiple labels can be put in &lt;code&gt;by&lt;/code&gt; and &lt;code&gt;without&lt;/code&gt; modifiers.&lt;/li&gt;
&lt;li&gt;If the aggregate function is applied directly to a &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series_selector&lt;/a&gt;, then the &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#default_rollup&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;default_rollup()&lt;/a&gt; function is automatically applied before calculating the aggregate. For example, &lt;code&gt;count(up)&lt;/code&gt; is implicitly transformed to &lt;code&gt;count(default_rollup(up))&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Aggregate functions accept arbitrary number of args. For example, &lt;code&gt;avg(q1, q2, q3)&lt;/code&gt; would return the average values for every point across time series returned by &lt;code&gt;q1&lt;/code&gt;, &lt;code&gt;q2&lt;/code&gt; and &lt;code&gt;q3&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Aggregate functions support optional &lt;code&gt;limit N&lt;/code&gt; suffix, which can be used for limiting the number of output groups. For example, &lt;code&gt;sum(x) by (y) limit 3&lt;/code&gt; limits the number of groups for the aggregation to 3. All the other groups are ignored.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#implicit-query-conversions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;implicit query conversions&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The list of supported aggregate functions:&lt;/p&gt;
&lt;h4&gt;any &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#any&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;any-httpsdocsvictoriametricscommetricsqlany&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#any-httpsdocsvictoriametricscommetricsqlany&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;any(q) by (group_labels)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns a single series per &lt;code&gt;group_labels&lt;/code&gt; out of time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#group&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;group&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;avg &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#avg&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;avg-httpsdocsvictoriametricscommetricsqlavg&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#avg-httpsdocsvictoriametricscommetricsqlavg&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;avg(q) by (group_labels)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns the average value per &lt;code&gt;group_labels&lt;/code&gt; for time series returned by &lt;code&gt;q&lt;/code&gt;. The aggregate is calculated individually per each group of points with the same timestamp.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;h4&gt;bottomk &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#bottomk&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;bottomk-httpsdocsvictoriametricscommetricsqlbottomk&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#bottomk-httpsdocsvictoriametricscommetricsqlbottomk&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;bottomk(k, q)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns up to &lt;code&gt;k&lt;/code&gt; points with the smallest values across all the time series returned by &lt;code&gt;q&lt;/code&gt;. The aggregate is calculated individually per each group of points with the same timestamp.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#topk&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;topk&lt;/a&gt;, &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#bottomk_min&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;bottomk_min&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#bottomk_last&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#bottomk_last&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;bottomk_avg &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#bottomk_avg&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;bottomk_avg-httpsdocsvictoriametricscommetricsqlbottomk_avg&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#bottomk_avg-httpsdocsvictoriametricscommetricsqlbottomk_avg&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;bottomk_avg(k, q, &amp;quot;other_label=other_value&amp;quot;)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns up to &lt;code&gt;k&lt;/code&gt; time series from &lt;code&gt;q&lt;/code&gt; with the smallest averages. If an optional &lt;code&gt;other_label=other_value&lt;/code&gt; arg is set, then the sum of the remaining time series is returned with the given label. For example, &lt;code&gt;bottomk_avg(3, sum(process_resident_memory_bytes) by (job), &amp;quot;job=other&amp;quot;)&lt;/code&gt; would return up to 3 time series with the smallest averages plus a time series with &lt;code&gt;{job=&amp;quot;other&amp;quot;}&lt;/code&gt; label with the sum of the remaining series if any.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#topk_avg&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;topk_avg&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;bottomk_last &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#bottomk_last&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;bottomk_last-httpsdocsvictoriametricscommetricsqlbottomk_last&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#bottomk_last-httpsdocsvictoriametricscommetricsqlbottomk_last&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;bottomk_last(k, q, &amp;quot;other_label=other_value&amp;quot;)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns up to &lt;code&gt;k&lt;/code&gt; time series from &lt;code&gt;q&lt;/code&gt; with the smallest last values. If an optional &lt;code&gt;other_label=other_value&lt;/code&gt; arg is set, then the sum of the remaining time series is returned with the given label. For example, &lt;code&gt;bottomk_max(3, sum(process_resident_memory_bytes) by (job), &amp;quot;job=other&amp;quot;)&lt;/code&gt; would return up to 3 time series with the smallest maximums plus a time series with &lt;code&gt;{job=&amp;quot;other&amp;quot;}&lt;/code&gt; label with the sum of the remaining series if any.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#topk_last&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;topk_last&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;bottomk_max &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#bottomk_max&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;bottomk_max-httpsdocsvictoriametricscommetricsqlbottomk_max&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#bottomk_max-httpsdocsvictoriametricscommetricsqlbottomk_max&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;bottomk_max(k, q, &amp;quot;other_label=other_value&amp;quot;)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns up to &lt;code&gt;k&lt;/code&gt; time series from &lt;code&gt;q&lt;/code&gt; with the smallest maximums. If an optional &lt;code&gt;other_label=other_value&lt;/code&gt; arg is set, then the sum of the remaining time series is returned with the given label. For example, &lt;code&gt;bottomk_max(3, sum(process_resident_memory_bytes) by (job), &amp;quot;job=other&amp;quot;)&lt;/code&gt; would return up to 3 time series with the smallest maximums plus a time series with &lt;code&gt;{job=&amp;quot;other&amp;quot;}&lt;/code&gt; label with the sum of the remaining series if any.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#topk_max&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;topk_max&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;bottomk_median &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#bottomk_median&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;bottomk_median-httpsdocsvictoriametricscommetricsqlbottomk_median&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#bottomk_median-httpsdocsvictoriametricscommetricsqlbottomk_median&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;bottomk_median(k, q, &amp;quot;other_label=other_value&amp;quot;)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns up to &lt;code&gt;k&lt;/code&gt; time series from &lt;code&gt;q&lt;/code&gt; with the smallest medians. If an optional&lt;code&gt;other_label=other_value&lt;/code&gt; arg is set, then the sum of the remaining time series is returned with the given label. For example, &lt;code&gt;bottomk_median(3, sum(process_resident_memory_bytes) by (job), &amp;quot;job=other&amp;quot;)&lt;/code&gt; would return up to 3 time series with the smallest medians plus a time series with &lt;code&gt;{job=&amp;quot;other&amp;quot;}&lt;/code&gt; label with the sum of the remaining series if any.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#topk_median&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;topk_median&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;bottomk_min &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#bottomk_min&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;bottomk_min-httpsdocsvictoriametricscommetricsqlbottomk_min&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#bottomk_min-httpsdocsvictoriametricscommetricsqlbottomk_min&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;bottomk_min(k, q, &amp;quot;other_label=other_value&amp;quot;)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns up to &lt;code&gt;k&lt;/code&gt; time series from &lt;code&gt;q&lt;/code&gt; with the smallest minimums. If an optional &lt;code&gt;other_label=other_value&lt;/code&gt; arg is set, then the sum of the remaining time series is returned with the given label. For example, &lt;code&gt;bottomk_min(3, sum(process_resident_memory_bytes) by (job), &amp;quot;job=other&amp;quot;)&lt;/code&gt; would return up to 3 time series with the smallest minimums plus a time series with &lt;code&gt;{job=&amp;quot;other&amp;quot;}&lt;/code&gt; label with the sum of the remaining series if any.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#topk_min&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;topk_min&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;count &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#count&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;count-httpsdocsvictoriametricscommetricsqlcount&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#count-httpsdocsvictoriametricscommetricsqlcount&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;count(q) by (group_labels)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns the number of non-empty points per &lt;code&gt;group_labels&lt;/code&gt; for time series returned by &lt;code&gt;q&lt;/code&gt;. The aggregate is calculated individually per each group of points with the same timestamp.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;h4&gt;count_values &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#count_values&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;count_values-httpsdocsvictoriametricscommetricsqlcount_values&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#count_values-httpsdocsvictoriametricscommetricsqlcount_values&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;count_values(&amp;quot;label&amp;quot;, q)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which counts the number of points with the same value and stores the counts in a time series with an additional &lt;code&gt;label&lt;/code&gt;, which contains each initial value. The aggregate is calculated individually per each group of points with the same timestamp.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#count_values_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;count_values_over_time&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#label_match&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;label_match&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;distinct &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#distinct&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;distinct-httpsdocsvictoriametricscommetricsqldistinct&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#distinct-httpsdocsvictoriametricscommetricsqldistinct&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;distinct(q)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which calculates the number of unique values per each group of points with the same timestamp.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#distinct_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;distinct_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;geomean &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#geomean&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;geomean-httpsdocsvictoriametricscommetricsqlgeomean&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#geomean-httpsdocsvictoriametricscommetricsqlgeomean&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;geomean(q)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which calculates geometric mean per each group of points with the same timestamp.&lt;/p&gt;
&lt;h4&gt;group &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#group&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;group-httpsdocsvictoriametricscommetricsqlgroup&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#group-httpsdocsvictoriametricscommetricsqlgroup&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;group(q) by (group_labels)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns &lt;code&gt;1&lt;/code&gt; per each &lt;code&gt;group_labels&lt;/code&gt; for time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL. See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#any&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;any&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;histogram &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#histogram&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;histogram-httpsdocsvictoriametricscommetricsqlhistogram&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#histogram-httpsdocsvictoriametricscommetricsqlhistogram&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;histogram(q)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which calculates &lt;a href=&#34;https://valyala.medium.com/improving-histogram-usability-for-prometheus-and-grafana-bc7e5df0e350&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;VictoriaMetrics histogram&lt;/a&gt; per each group of points with the same timestamp. Useful for visualizing big number of time series via a heatmap. See &lt;a href=&#34;https://medium.com/@valyala/improving-histogram-usability-for-prometheus-and-grafana-bc7e5df0e350&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;this article&lt;/a&gt; for more details.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#histogram_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;histogram_over_time&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#histogram_quantile&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;histogram_quantile&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;limitk &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#limitk&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;limitk-httpsdocsvictoriametricscommetricsqllimitk&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#limitk-httpsdocsvictoriametricscommetricsqllimitk&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;limitk(k, q) by (group_labels)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns up to &lt;code&gt;k&lt;/code&gt; time series per each &lt;code&gt;group_labels&lt;/code&gt; out of time series returned by &lt;code&gt;q&lt;/code&gt;. The returned set of time series remain the same across calls.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#limit_offset&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;limit_offset&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;mad &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#mad&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;mad-httpsdocsvictoriametricscommetricsqlmad&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#mad-httpsdocsvictoriametricscommetricsqlmad&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;mad(q) by (group_labels)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns the &lt;a href=&#34;https://en.wikipedia.org/wiki/Median_absolute_deviation&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Median absolute deviation&lt;/a&gt; per each &lt;code&gt;group_labels&lt;/code&gt; for all the time series returned by &lt;code&gt;q&lt;/code&gt;. The aggregate is calculated individually per each group of points with the same timestamp.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_mad&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;range_mad&lt;/a&gt;, &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#mad_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;mad_over_time&lt;/a&gt;, &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#outliers_mad&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;outliers_mad&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#stddev&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;stddev&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;max &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#max&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;max-httpsdocsvictoriametricscommetricsqlmax&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#max-httpsdocsvictoriametricscommetricsqlmax&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;max(q) by (group_labels)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns the maximum value per each &lt;code&gt;group_labels&lt;/code&gt; for all the time series returned by &lt;code&gt;q&lt;/code&gt;. The aggregate is calculated individually per each group of points with the same timestamp.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;h4&gt;median &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#median&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;median-httpsdocsvictoriametricscommetricsqlmedian&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#median-httpsdocsvictoriametricscommetricsqlmedian&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;median(q) by (group_labels)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns the median value per each &lt;code&gt;group_labels&lt;/code&gt; for all the time series returned by &lt;code&gt;q&lt;/code&gt;. The aggregate is calculated individually per each group of points with the same timestamp.&lt;/p&gt;
&lt;h4&gt;min &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#min&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;min-httpsdocsvictoriametricscommetricsqlmin&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#min-httpsdocsvictoriametricscommetricsqlmin&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;min(q) by (group_labels)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns the minimum value per each &lt;code&gt;group_labels&lt;/code&gt; for all the time series returned by &lt;code&gt;q&lt;/code&gt;. The aggregate is calculated individually per each group of points with the same timestamp.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;h4&gt;mode &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#mode&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;mode-httpsdocsvictoriametricscommetricsqlmode&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#mode-httpsdocsvictoriametricscommetricsqlmode&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;mode(q) by (group_labels)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns &lt;a href=&#34;https://en.wikipedia.org/wiki/Mode_%28statistics%29&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;mode&lt;/a&gt; per each &lt;code&gt;group_labels&lt;/code&gt; for all the time series returned by &lt;code&gt;q&lt;/code&gt;. The aggregate is calculated individually per each group of points with the same timestamp.&lt;/p&gt;
&lt;h4&gt;outliers_iqr &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#outliers_iqr&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;outliers_iqr-httpsdocsvictoriametricscommetricsqloutliers_iqr&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#outliers_iqr-httpsdocsvictoriametricscommetricsqloutliers_iqr&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;outliers_iqr(q)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns time series from &lt;code&gt;q&lt;/code&gt; with at least a single point outside e.g. &lt;a href=&#34;https://en.wikipedia.org/wiki/Interquartile_range&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Interquartile range outlier bounds&lt;/a&gt; &lt;code&gt;[q25-1.5*iqr .. q75+1.5*iqr]&lt;/code&gt; comparing to other time series at the given point, where:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;iqr&lt;/code&gt; is an &lt;a href=&#34;https://en.wikipedia.org/wiki/Interquartile_range&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Interquartile range&lt;/a&gt; calculated independently per each point on the graph across &lt;code&gt;q&lt;/code&gt; series.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;q25&lt;/code&gt; and &lt;code&gt;q75&lt;/code&gt; are 25th and 75th &lt;a href=&#34;https://en.wikipedia.org/wiki/Percentile&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;percentiles&lt;/a&gt; calculated independently per each point on the graph across &lt;code&gt;q&lt;/code&gt; series.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The &lt;code&gt;outliers_iqr()&lt;/code&gt; is useful for detecting anomalous series in the group of series. For example, &lt;code&gt;outliers_iqr(temperature) by (country)&lt;/code&gt; returns per-country series with anomalous outlier values comparing to the rest of per-country series.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#outliers_mad&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;outliers_mad&lt;/a&gt;, &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#outliersk&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;outliersk&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#outlier_iqr_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;outlier_iqr_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;outliers_mad &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#outliers_mad&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;outliers_mad-httpsdocsvictoriametricscommetricsqloutliers_mad&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#outliers_mad-httpsdocsvictoriametricscommetricsqloutliers_mad&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;outliers_mad(tolerance, q)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns time series from &lt;code&gt;q&lt;/code&gt; with at least a single point outside &lt;a href=&#34;https://en.wikipedia.org/wiki/Median_absolute_deviation&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Median absolute deviation&lt;/a&gt; (aka MAD) multiplied by &lt;code&gt;tolerance&lt;/code&gt;. E.g. it returns time series with at least a single point below &lt;code&gt;median(q) - mad(q)&lt;/code&gt; or a single point above &lt;code&gt;median(q) + mad(q)&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#outliers_iqr&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;outliers_iqr&lt;/a&gt;, &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#outliersk&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;outliersk&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#mad&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;mad&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;outliersk &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#outliersk&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;outliersk-httpsdocsvictoriametricscommetricsqloutliersk&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#outliersk-httpsdocsvictoriametricscommetricsqloutliersk&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;outliersk(k, q)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns up to &lt;code&gt;k&lt;/code&gt; time series with the biggest standard deviation (aka outliers) out of time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#outliers_iqr&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;outliers_iqr&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#outliers_mad&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;outliers_mad&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;quantile &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#quantile&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;quantile-httpsdocsvictoriametricscommetricsqlquantile&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#quantile-httpsdocsvictoriametricscommetricsqlquantile&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;quantile(phi, q) by (group_labels)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which calculates &lt;code&gt;phi&lt;/code&gt;-quantile per each &lt;code&gt;group_labels&lt;/code&gt; for all the time series returned by &lt;code&gt;q&lt;/code&gt;. &lt;code&gt;phi&lt;/code&gt; must be in the range &lt;code&gt;[0...1]&lt;/code&gt;. The aggregate is calculated individually per each group of points with the same timestamp.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#quantiles&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;quantiles&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#histogram_quantile&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;histogram_quantile&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;quantiles &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#quantiles&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;quantiles-httpsdocsvictoriametricscommetricsqlquantiles&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#quantiles-httpsdocsvictoriametricscommetricsqlquantiles&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;quantiles(&amp;quot;phiLabel&amp;quot;, phi1, ..., phiN, q)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which calculates &lt;code&gt;phi*&lt;/code&gt;-quantiles for all the time series returned by &lt;code&gt;q&lt;/code&gt; and return them in time series with &lt;code&gt;{phiLabel=&amp;quot;phi*&amp;quot;}&lt;/code&gt; label. &lt;code&gt;phi*&lt;/code&gt; must be in the range &lt;code&gt;[0...1]&lt;/code&gt;. The aggregate is calculated individually per each group of points with the same timestamp.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#quantile&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;quantile&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;share &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#share&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;share-httpsdocsvictoriametricscommetricsqlshare&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#share-httpsdocsvictoriametricscommetricsqlshare&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;share(q) by (group_labels)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns shares in the range &lt;code&gt;[0..1]&lt;/code&gt; for every non-negative points returned by &lt;code&gt;q&lt;/code&gt; per each timestamp, so the sum of shares per each &lt;code&gt;group_labels&lt;/code&gt; equals 1.&lt;/p&gt;
&lt;p&gt;This function is useful for normalizing &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#histogram&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;histogram bucket&lt;/a&gt; shares into &lt;code&gt;[0..1]&lt;/code&gt; range:&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code&#34;&gt;
  

&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-plain&#34; data-lang=&#34;plain&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;share(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  sum(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    rate(http_request_duration_seconds_bucket[5m])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  ) by (le, vmrange)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4&#34;&gt;&lt;/div&gt;
    &lt;div class=&#34;success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;

  
&lt;/div&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;MetricsQL&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;Copy&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_normalize&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;range_normalize&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;stddev &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#stddev&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;stddev-httpsdocsvictoriametricscommetricsqlstddev&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#stddev-httpsdocsvictoriametricscommetricsqlstddev&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;stddev(q) by (group_labels)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which calculates standard deviation per each &lt;code&gt;group_labels&lt;/code&gt; for all the time series returned by &lt;code&gt;q&lt;/code&gt;. The aggregate is calculated individually per each group of points with the same timestamp.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;h4&gt;stdvar &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#stdvar&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;stdvar-httpsdocsvictoriametricscommetricsqlstdvar&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#stdvar-httpsdocsvictoriametricscommetricsqlstdvar&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;stdvar(q) by (group_labels)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which calculates standard variance per each &lt;code&gt;group_labels&lt;/code&gt; for all the time series returned by &lt;code&gt;q&lt;/code&gt;. The aggregate is calculated individually per each group of points with the same timestamp.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;h4&gt;sum &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sum&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;sum-httpsdocsvictoriametricscommetricsqlsum&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sum-httpsdocsvictoriametricscommetricsqlsum&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;sum(q) by (group_labels)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns the sum per each &lt;code&gt;group_labels&lt;/code&gt; for all the time series returned by &lt;code&gt;q&lt;/code&gt;. The aggregate is calculated individually per each group of points with the same timestamp.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;h4&gt;sum2 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sum2&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;sum2-httpsdocsvictoriametricscommetricsqlsum2&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sum2-httpsdocsvictoriametricscommetricsqlsum2&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;sum2(q) by (group_labels)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which calculates the sum of squares per each &lt;code&gt;group_labels&lt;/code&gt; for all the time series returned by &lt;code&gt;q&lt;/code&gt;. The aggregate is calculated individually per each group of points with the same timestamp.&lt;/p&gt;
&lt;h4&gt;topk &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#topk&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;topk-httpsdocsvictoriametricscommetricsqltopk&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#topk-httpsdocsvictoriametricscommetricsqltopk&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;topk(k, q)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns up to &lt;code&gt;k&lt;/code&gt; points with the biggest values across all the time series returned by &lt;code&gt;q&lt;/code&gt;. The aggregate is calculated individually per each group of points with the same timestamp.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#bottomk&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;bottomk&lt;/a&gt;, &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#topk_max&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;topk_max&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#topk_last&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;topk_last&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;topk_avg &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#topk_avg&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;topk_avg-httpsdocsvictoriametricscommetricsqltopk_avg&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#topk_avg-httpsdocsvictoriametricscommetricsqltopk_avg&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;topk_avg(k, q, &amp;quot;other_label=other_value&amp;quot;)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns up to &lt;code&gt;k&lt;/code&gt; time series from &lt;code&gt;q&lt;/code&gt; with the biggest averages. If an optional &lt;code&gt;other_label=other_value&lt;/code&gt; arg is set, then the sum of the remaining time series is returned with the given label. For example, &lt;code&gt;topk_avg(3, sum(process_resident_memory_bytes) by (job), &amp;quot;job=other&amp;quot;)&lt;/code&gt; would return up to 3 time series with the biggest averages plus a time series with &lt;code&gt;{job=&amp;quot;other&amp;quot;}&lt;/code&gt; label with the sum of the remaining series if any.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#bottomk_avg&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;bottomk_avg&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;topk_last &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#topk_last&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;topk_last-httpsdocsvictoriametricscommetricsqltopk_last&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#topk_last-httpsdocsvictoriametricscommetricsqltopk_last&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;topk_last(k, q, &amp;quot;other_label=other_value&amp;quot;)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns up to &lt;code&gt;k&lt;/code&gt; time series from &lt;code&gt;q&lt;/code&gt; with the biggest last values. If an optional &lt;code&gt;other_label=other_value&lt;/code&gt; arg is set, then the sum of the remaining time series is returned with the given label. For example, &lt;code&gt;topk_max(3, sum(process_resident_memory_bytes) by (job), &amp;quot;job=other&amp;quot;)&lt;/code&gt; would return up to 3 time series with the biggest maximums plus a time series with &lt;code&gt;{job=&amp;quot;other&amp;quot;}&lt;/code&gt; label with the sum of the remaining series if any.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#bottomk_last&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;bottomk_last&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;topk_max &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#topk_max&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;topk_max-httpsdocsvictoriametricscommetricsqltopk_max&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#topk_max-httpsdocsvictoriametricscommetricsqltopk_max&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;topk_max(k, q, &amp;quot;other_label=other_value&amp;quot;)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns up to &lt;code&gt;k&lt;/code&gt; time series from &lt;code&gt;q&lt;/code&gt; with the biggest maximums. If an optional &lt;code&gt;other_label=other_value&lt;/code&gt; arg is set, then the sum of the remaining time series is returned with the given label. For example, &lt;code&gt;topk_max(3, sum(process_resident_memory_bytes) by (job), &amp;quot;job=other&amp;quot;)&lt;/code&gt; would return up to 3 time series with the biggest maximums plus a time series with &lt;code&gt;{job=&amp;quot;other&amp;quot;}&lt;/code&gt; label with the sum of the remaining series if any.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#bottomk_max&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;bottomk_max&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;topk_median &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#topk_median&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;topk_median-httpsdocsvictoriametricscommetricsqltopk_median&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#topk_median-httpsdocsvictoriametricscommetricsqltopk_median&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;topk_median(k, q, &amp;quot;other_label=other_value&amp;quot;)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns up to &lt;code&gt;k&lt;/code&gt; time series from &lt;code&gt;q&lt;/code&gt; with the biggest medians. If an optional &lt;code&gt;other_label=other_value&lt;/code&gt; arg is set, then the sum of the remaining time series is returned with the given label. For example, &lt;code&gt;topk_median(3, sum(process_resident_memory_bytes) by (job), &amp;quot;job=other&amp;quot;)&lt;/code&gt; would return up to 3 time series with the biggest medians plus a time series with &lt;code&gt;{job=&amp;quot;other&amp;quot;}&lt;/code&gt; label with the sum of the remaining series if any.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#bottomk_median&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;bottomk_median&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;topk_min &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#topk_min&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;topk_min-httpsdocsvictoriametricscommetricsqltopk_min&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#topk_min-httpsdocsvictoriametricscommetricsqltopk_min&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;topk_min(k, q, &amp;quot;other_label=other_value&amp;quot;)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns up to &lt;code&gt;k&lt;/code&gt; time series from &lt;code&gt;q&lt;/code&gt; with the biggest minimums. If an optional &lt;code&gt;other_label=other_value&lt;/code&gt; arg is set, then the sum of the remaining time series is returned with the given label. For example, &lt;code&gt;topk_min(3, sum(process_resident_memory_bytes) by (job), &amp;quot;job=other&amp;quot;)&lt;/code&gt; would return up to 3 time series with the biggest minimums plus a time series with &lt;code&gt;{job=&amp;quot;other&amp;quot;}&lt;/code&gt; label with the sum of the remaining series if any.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#bottomk_min&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;bottomk_min&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;zscore &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#zscore&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;zscore-httpsdocsvictoriametricscommetricsqlzscore&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#zscore-httpsdocsvictoriametricscommetricsqlzscore&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;zscore(q) by (group_labels)&lt;/code&gt; is &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#aggregate-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aggregate function&lt;/a&gt;, which returns &lt;a href=&#34;https://en.wikipedia.org/wiki/Standard_score&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;z-score&lt;/a&gt; values per each &lt;code&gt;group_labels&lt;/code&gt; for all the time series returned by &lt;code&gt;q&lt;/code&gt;. The aggregate is calculated individually per each group of points with the same timestamp. This function is useful for detecting anomalies in the group of related time series.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#zscore_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;zscore_over_time&lt;/a&gt;, &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_trim_zscore&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;range_trim_zscore&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#outliers_iqr&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;outliers_iqr&lt;/a&gt;.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>数值转换</title>
      <link>http://localhost:1313/docs/query/metricsql/functions/transmit/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>http://localhost:1313/docs/query/metricsql/functions/transmit/</guid>
      <description>
        
        
        &lt;p&gt;&lt;strong&gt;Transform functions&lt;/strong&gt; calculate transformations over &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rollup-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rollup results&lt;/a&gt;. For example, &lt;code&gt;abs(delta(temperature[24h]))&lt;/code&gt; calculates the absolute value for every point of every time series returned from the rollup &lt;code&gt;delta(temperature[24h])&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Additional details:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;If transform function is applied directly to a &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#filtering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;series selector&lt;/a&gt;, then the &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#default_rollup&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;default_rollup()&lt;/a&gt; function is automatically applied before calculating the transformations. For example, &lt;code&gt;abs(temperature)&lt;/code&gt; is implicitly transformed to &lt;code&gt;abs(default_rollup(temperature))&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;All the transform functions accept optional &lt;code&gt;keep_metric_names&lt;/code&gt; modifier. If it is set, then the function doesn’t drop metric names from the resulting time series. See &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;these docs&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#implicit-query-conversions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;implicit query conversions&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;abs &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#abs&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;abs-httpsdocsvictoriametricscommetricsqlabs&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#abs-httpsdocsvictoriametricscommetricsqlabs&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;abs(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates the absolute value for every point of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;h4&gt;absent &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#absent&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;absent-httpsdocsvictoriametricscommetricsqlabsent&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#absent-httpsdocsvictoriametricscommetricsqlabsent&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;absent(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns 1 if &lt;code&gt;q&lt;/code&gt; has no points. Otherwise, returns an empty result.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#absent_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;absent_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;acos &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#acos&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;acos-httpsdocsvictoriametricscommetricsqlacos&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#acos-httpsdocsvictoriametricscommetricsqlacos&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;acos(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns &lt;a href=&#34;https://en.wikipedia.org/wiki/Inverse_trigonometric_functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;inverse cosine&lt;/a&gt; for every point of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#asin&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;asin&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#cos&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;cos&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;acosh &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#acosh&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;acosh-httpsdocsvictoriametricscommetricsqlacosh&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#acosh-httpsdocsvictoriametricscommetricsqlacosh&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;acosh(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns &lt;a href=&#34;https://en.wikipedia.org/wiki/Inverse_hyperbolic_functions#Inverse_hyperbolic_cosine&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;inverse hyperbolic cosine&lt;/a&gt; for every point of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#cosh&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sinh&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;asin &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#asin&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;asin-httpsdocsvictoriametricscommetricsqlasin&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#asin-httpsdocsvictoriametricscommetricsqlasin&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;asin(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns &lt;a href=&#34;https://en.wikipedia.org/wiki/Inverse_trigonometric_functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;inverse sine&lt;/a&gt; for every point of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#acos&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;acos&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sin&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sin&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;asinh &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#asinh&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;asinh-httpsdocsvictoriametricscommetricsqlasinh&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#asinh-httpsdocsvictoriametricscommetricsqlasinh&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;asinh(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns &lt;a href=&#34;https://en.wikipedia.org/wiki/Inverse_hyperbolic_functions#Inverse_hyperbolic_sine&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;inverse hyperbolic sine&lt;/a&gt; for every point of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sinh&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sinh&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;atan &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#atan&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;atan-httpsdocsvictoriametricscommetricsqlatan&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#atan-httpsdocsvictoriametricscommetricsqlatan&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;atan(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns &lt;a href=&#34;https://en.wikipedia.org/wiki/Inverse_trigonometric_functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;inverse tangent&lt;/a&gt; for every point of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#tan&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;tan&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;atanh &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#atanh&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;atanh-httpsdocsvictoriametricscommetricsqlatanh&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#atanh-httpsdocsvictoriametricscommetricsqlatanh&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;atanh(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns &lt;a href=&#34;https://en.wikipedia.org/wiki/Inverse_hyperbolic_functions#Inverse_hyperbolic_tangent&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;inverse hyperbolic tangent&lt;/a&gt; for every point of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#tanh&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;tanh&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;bitmap_and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#bitmap_and&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;bitmap_and-httpsdocsvictoriametricscommetricsqlbitmap_and&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#bitmap_and-httpsdocsvictoriametricscommetricsqlbitmap_and&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;bitmap_and(q, mask)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates bitwise &lt;code&gt;v &amp;amp; mask&lt;/code&gt; for every &lt;code&gt;v&lt;/code&gt; point of every time series returned from &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;h4&gt;bitmap_or &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#bitmap_or&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;bitmap_or-httpsdocsvictoriametricscommetricsqlbitmap_or&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#bitmap_or-httpsdocsvictoriametricscommetricsqlbitmap_or&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;bitmap_or(q, mask)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates bitwise &lt;code&gt;v | mask&lt;/code&gt; for every &lt;code&gt;v&lt;/code&gt; point of every time series returned from &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;h4&gt;bitmap_xor &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#bitmap_xor&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;bitmap_xor-httpsdocsvictoriametricscommetricsqlbitmap_xor&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#bitmap_xor-httpsdocsvictoriametricscommetricsqlbitmap_xor&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;bitmap_xor(q, mask)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates bitwise &lt;code&gt;v ^ mask&lt;/code&gt; for every &lt;code&gt;v&lt;/code&gt; point of every time series returned from &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;h4&gt;buckets_limit &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#buckets_limit&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;buckets_limit-httpsdocsvictoriametricscommetricsqlbuckets_limit&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#buckets_limit-httpsdocsvictoriametricscommetricsqlbuckets_limit&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;buckets_limit(limit, buckets)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which limits the number of &lt;a href=&#34;https://valyala.medium.com/improving-histogram-usability-for-prometheus-and-grafana-bc7e5df0e350&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;histogram buckets&lt;/a&gt; to the given &lt;code&gt;limit&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#prometheus_buckets&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;prometheus_buckets&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#histogram_quantile&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;histogram_quantile&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;ceil &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#ceil&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;ceil-httpsdocsvictoriametricscommetricsqlceil&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#ceil-httpsdocsvictoriametricscommetricsqlceil&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;ceil(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which rounds every point for every time series returned by &lt;code&gt;q&lt;/code&gt; to the upper nearest integer.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#floor&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;floor&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#round&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;round&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;clamp &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#clamp&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;clamp-httpsdocsvictoriametricscommetricsqlclamp&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#clamp-httpsdocsvictoriametricscommetricsqlclamp&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;clamp(q, min, max)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which clamps every point for every time series returned by &lt;code&gt;q&lt;/code&gt; with the given &lt;code&gt;min&lt;/code&gt; and &lt;code&gt;max&lt;/code&gt; values.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#clamp_min&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;clamp_min&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#clamp_max&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;clamp_max&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;clamp_max &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#clamp_max&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;clamp_max-httpsdocsvictoriametricscommetricsqlclamp_max&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#clamp_max-httpsdocsvictoriametricscommetricsqlclamp_max&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;clamp_max(q, max)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which clamps every point for every time series returned by &lt;code&gt;q&lt;/code&gt; with the given &lt;code&gt;max&lt;/code&gt; value.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#clamp&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;clamp&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#clamp_min&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;clamp_min&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;clamp_min &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#clamp_min&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;clamp_min-httpsdocsvictoriametricscommetricsqlclamp_min&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#clamp_min-httpsdocsvictoriametricscommetricsqlclamp_min&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;clamp_min(q, min)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which clamps every point for every time series returned by &lt;code&gt;q&lt;/code&gt; with the given &lt;code&gt;min&lt;/code&gt; value.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#clamp&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;clamp&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#clamp_max&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;clamp_max&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;cos &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#cos&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;cos-httpsdocsvictoriametricscommetricsqlcos&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#cos-httpsdocsvictoriametricscommetricsqlcos&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;cos(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns &lt;code&gt;cos(v)&lt;/code&gt; for every &lt;code&gt;v&lt;/code&gt; point of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sin&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sin&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;cosh &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#cosh&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;cosh-httpsdocsvictoriametricscommetricsqlcosh&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#cosh-httpsdocsvictoriametricscommetricsqlcosh&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;cosh(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns &lt;a href=&#34;https://en.wikipedia.org/wiki/Hyperbolic_functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;hyperbolic cosine&lt;/a&gt; for every point of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#acosh&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;acosh&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;day_of_month &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#day_of_month&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;day_of_month-httpsdocsvictoriametricscommetricsqlday_of_month&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#day_of_month-httpsdocsvictoriametricscommetricsqlday_of_month&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;day_of_month(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns the day of month for every point of every time series returned by &lt;code&gt;q&lt;/code&gt;. It is expected that &lt;code&gt;q&lt;/code&gt; returns unix timestamps. The returned values are in the range &lt;code&gt;[1...31]&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#day_of_week&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;day_of_week&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#day_of_year&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;day_of_year&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;day_of_week &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#day_of_week&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;day_of_week-httpsdocsvictoriametricscommetricsqlday_of_week&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#day_of_week-httpsdocsvictoriametricscommetricsqlday_of_week&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;day_of_week(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns the day of week for every point of every time series returned by &lt;code&gt;q&lt;/code&gt;. It is expected that &lt;code&gt;q&lt;/code&gt; returns unix timestamps. The returned values are in the range &lt;code&gt;[0...6]&lt;/code&gt;, where &lt;code&gt;0&lt;/code&gt; means Sunday and &lt;code&gt;6&lt;/code&gt; means Saturday.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#day_of_month&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;day_of_month&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#day_of_year&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;day_of_year&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;day_of_year &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#day_of_year&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;day_of_year-httpsdocsvictoriametricscommetricsqlday_of_year&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#day_of_year-httpsdocsvictoriametricscommetricsqlday_of_year&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;day_of_year(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns the day of year for every point of every time series returned by &lt;code&gt;q&lt;/code&gt;. It is expected that &lt;code&gt;q&lt;/code&gt; returns unix timestamps. The returned values are in the range &lt;code&gt;[1...365]&lt;/code&gt; for non-leap years, and &lt;code&gt;[1 to 366]&lt;/code&gt; in leap years.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#day_of_week&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;day_of_week&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#day_of_month&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;day_of_month&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;days_in_month &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#days_in_month&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;days_in_month-httpsdocsvictoriametricscommetricsqldays_in_month&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#days_in_month-httpsdocsvictoriametricscommetricsqldays_in_month&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;days_in_month(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns the number of days in the month identified by every point of every time series returned by &lt;code&gt;q&lt;/code&gt;. It is expected that &lt;code&gt;q&lt;/code&gt; returns unix timestamps. The returned values are in the range &lt;code&gt;[28...31]&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;h4&gt;deg &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#deg&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;deg-httpsdocsvictoriametricscommetricsqldeg&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#deg-httpsdocsvictoriametricscommetricsqldeg&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;deg(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which converts &lt;a href=&#34;https://en.wikipedia.org/wiki/Radian#Conversions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Radians to degrees&lt;/a&gt; for every point of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rad&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rad&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;drop_empty_series &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#drop_empty_series&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;drop_empty_series-httpsdocsvictoriametricscommetricsqldrop_empty_series&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#drop_empty_series-httpsdocsvictoriametricscommetricsqldrop_empty_series&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;drop_empty_series(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which drops empty series from &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;This function can be used when &lt;code&gt;default&lt;/code&gt; operator should be applied only to non-empty series. For example, &lt;code&gt;drop_empty_series(temperature &amp;lt; 30) default 42&lt;/code&gt; returns series, which have at least a single sample smaller than 30 on the selected time range, while filling gaps in the returned series with 42.&lt;/p&gt;
&lt;p&gt;On the other hand &lt;code&gt;(temperature &amp;lt; 30) default 40&lt;/code&gt; returns all the &lt;code&gt;temperature&lt;/code&gt; series, even if they have no samples smaller than 30, by replacing all the values bigger or equal to 30 with 40.&lt;/p&gt;
&lt;h4&gt;end &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#end&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;end-httpsdocsvictoriametricscommetricsqlend&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#end-httpsdocsvictoriametricscommetricsqlend&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;end()&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns the unix timestamp in seconds for the last point. It is known as &lt;code&gt;end&lt;/code&gt; query arg passed to &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#range-query&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;/api/v1/query_range&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#start&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;start&lt;/a&gt;, &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;time&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#now&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;now&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;exp &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#exp&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;exp-httpsdocsvictoriametricscommetricsqlexp&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#exp-httpsdocsvictoriametricscommetricsqlexp&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;exp(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates the &lt;code&gt;e^v&lt;/code&gt; for every point &lt;code&gt;v&lt;/code&gt; of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#ln&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ln&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;floor &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#floor&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;floor-httpsdocsvictoriametricscommetricsqlfloor&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#floor-httpsdocsvictoriametricscommetricsqlfloor&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;floor(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which rounds every point for every time series returned by &lt;code&gt;q&lt;/code&gt; to the lower nearest integer.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#ceil&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ceil&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#round&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;round&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;histogram_avg &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#histogram_avg&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;histogram_avg-httpsdocsvictoriametricscommetricsqlhistogram_avg&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#histogram_avg-httpsdocsvictoriametricscommetricsqlhistogram_avg&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;histogram_avg(buckets)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates the average value for the given &lt;code&gt;buckets&lt;/code&gt;. It can be used for calculating the average over the given time range across multiple time series. For example, &lt;code&gt;histogram_avg(sum(histogram_over_time(response_time_duration_seconds[5m])) by (vmrange,job))&lt;/code&gt; would return the average response time per each &lt;code&gt;job&lt;/code&gt; over the last 5 minutes.&lt;/p&gt;
&lt;h4&gt;histogram_quantile &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#histogram_quantile&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;histogram_quantile-httpsdocsvictoriametricscommetricsqlhistogram_quantile&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#histogram_quantile-httpsdocsvictoriametricscommetricsqlhistogram_quantile&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;histogram_quantile(phi, buckets)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates &lt;code&gt;phi&lt;/code&gt;-&lt;a href=&#34;https://en.wikipedia.org/wiki/Percentile&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;percentile&lt;/a&gt; over the given &lt;a href=&#34;https://valyala.medium.com/improving-histogram-usability-for-prometheus-and-grafana-bc7e5df0e350&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;histogram buckets&lt;/a&gt;. &lt;code&gt;phi&lt;/code&gt; must be in the range &lt;code&gt;[0...1]&lt;/code&gt;. For example, &lt;code&gt;histogram_quantile(0.5, sum(rate(http_request_duration_seconds_bucket[5m])) by (le))&lt;/code&gt; would return median request duration for all the requests during the last 5 minutes.&lt;/p&gt;
&lt;p&gt;The function accepts optional third arg - &lt;code&gt;boundsLabel&lt;/code&gt;. In this case it returns &lt;code&gt;lower&lt;/code&gt; and &lt;code&gt;upper&lt;/code&gt; bounds for the estimated percentile with the given &lt;code&gt;boundsLabel&lt;/code&gt; label. See &lt;a href=&#34;https://github.com/prometheus/prometheus/issues/5706&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;this issue for details&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;When the &lt;a href=&#34;https://en.wikipedia.org/wiki/Percentile&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;percentile&lt;/a&gt; is calculated over multiple histograms, then all the input histograms &lt;strong&gt;must&lt;/strong&gt; have buckets with identical boundaries, e.g. they must have the same set of &lt;code&gt;le&lt;/code&gt; or &lt;code&gt;vmrange&lt;/code&gt; labels. Otherwise, the returned result may be invalid. See &lt;a href=&#34;https://github.com/VictoriaMetrics/VictoriaMetrics/issues/3231&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;this issue&lt;/a&gt; for details.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL (except of the &lt;code&gt;boundLabel&lt;/code&gt; arg).&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#histogram_quantiles&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;histogram_quantiles&lt;/a&gt;, &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#histogram_share&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;histogram_share&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#quantile&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;quantile&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;histogram_quantiles &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#histogram_quantiles&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;histogram_quantiles-httpsdocsvictoriametricscommetricsqlhistogram_quantiles&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#histogram_quantiles-httpsdocsvictoriametricscommetricsqlhistogram_quantiles&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;histogram_quantiles(&amp;quot;phiLabel&amp;quot;, phi1, ..., phiN, buckets)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates the given &lt;code&gt;phi*&lt;/code&gt;-quantiles over the given &lt;a href=&#34;https://valyala.medium.com/improving-histogram-usability-for-prometheus-and-grafana-bc7e5df0e350&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;histogram buckets&lt;/a&gt;. Argument &lt;code&gt;phi*&lt;/code&gt; must be in the range &lt;code&gt;[0...1]&lt;/code&gt;. For example, &lt;code&gt;histogram_quantiles(&#39;le&#39;, 0.3, 0.5, sum(rate(http_request_duration_seconds_bucket[5m]) by (le))&lt;/code&gt;. Each calculated quantile is returned in a separate time series with the corresponding &lt;code&gt;{phiLabel=&amp;quot;phi*&amp;quot;}&lt;/code&gt; label.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#histogram_quantile&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;histogram_quantile&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;histogram_share &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#histogram_share&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;histogram_share-httpsdocsvictoriametricscommetricsqlhistogram_share&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#histogram_share-httpsdocsvictoriametricscommetricsqlhistogram_share&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;histogram_share(le, buckets)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates the share (in the range &lt;code&gt;[0...1]&lt;/code&gt;) for &lt;code&gt;buckets&lt;/code&gt; that fall below &lt;code&gt;le&lt;/code&gt;. This function is useful for calculating SLI and SLO. This is inverse to &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#histogram_quantile&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;histogram_quantile&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The function accepts optional third arg - &lt;code&gt;boundsLabel&lt;/code&gt;. In this case it returns &lt;code&gt;lower&lt;/code&gt; and &lt;code&gt;upper&lt;/code&gt; bounds for the estimated share with the given &lt;code&gt;boundsLabel&lt;/code&gt; label.&lt;/p&gt;
&lt;h4&gt;histogram_stddev &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#histogram_stddev&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;histogram_stddev-httpsdocsvictoriametricscommetricsqlhistogram_stddev&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#histogram_stddev-httpsdocsvictoriametricscommetricsqlhistogram_stddev&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;histogram_stddev(buckets)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates standard deviation for the given &lt;code&gt;buckets&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;histogram_stdvar &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#histogram_stdvar&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;histogram_stdvar-httpsdocsvictoriametricscommetricsqlhistogram_stdvar&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#histogram_stdvar-httpsdocsvictoriametricscommetricsqlhistogram_stdvar&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;histogram_stdvar(buckets)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates standard variance for the given &lt;code&gt;buckets&lt;/code&gt;. It can be used for calculating standard deviation over the given time range across multiple time series. For example, &lt;code&gt;histogram_stdvar(sum(histogram_over_time(temperature[24])) by (vmrange,country))&lt;/code&gt; would return standard deviation for the temperature per each country over the last 24 hours.&lt;/p&gt;
&lt;h4&gt;hour &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#hour&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;hour-httpsdocsvictoriametricscommetricsqlhour&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#hour-httpsdocsvictoriametricscommetricsqlhour&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;hour(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns the hour for every point of every time series returned by &lt;code&gt;q&lt;/code&gt;. It is expected that &lt;code&gt;q&lt;/code&gt; returns unix timestamps. The returned values are in the range &lt;code&gt;[0...23]&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;h4&gt;interpolate &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#interpolate&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;interpolate-httpsdocsvictoriametricscommetricsqlinterpolate&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#interpolate-httpsdocsvictoriametricscommetricsqlinterpolate&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;interpolate(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which fills gaps with linearly interpolated values calculated from the last and the next non-empty points per each time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_last_value&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_last_value&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_next_value&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_next_value&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;keep_last_value &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_last_value&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;keep_last_value-httpsdocsvictoriametricscommetricsqlkeep_last_value&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#keep_last_value-httpsdocsvictoriametricscommetricsqlkeep_last_value&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;keep_last_value(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which fills gaps with the value of the last non-empty point in every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_next_value&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_next_value&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#interpolate&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;interpolate&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;keep_next_value &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_next_value&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;keep_next_value-httpsdocsvictoriametricscommetricsqlkeep_next_value&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#keep_next_value-httpsdocsvictoriametricscommetricsqlkeep_next_value&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;keep_next_value(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which fills gaps with the value of the next non-empty point in every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_last_value&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_last_value&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#interpolate&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;interpolate&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;limit_offset &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#limit_offset&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;limit_offset-httpsdocsvictoriametricscommetricsqllimit_offset&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#limit_offset-httpsdocsvictoriametricscommetricsqllimit_offset&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;limit_offset(limit, offset, q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which skips &lt;code&gt;offset&lt;/code&gt; time series from series returned by &lt;code&gt;q&lt;/code&gt; and then returns up to &lt;code&gt;limit&lt;/code&gt; of the remaining time series per each group.&lt;/p&gt;
&lt;p&gt;This allows implementing simple paging for &lt;code&gt;q&lt;/code&gt; time series. See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#limitk&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;limitk&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;ln &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#ln&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;ln-httpsdocsvictoriametricscommetricsqlln&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#ln-httpsdocsvictoriametricscommetricsqlln&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;ln(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates &lt;code&gt;ln(v)&lt;/code&gt; for every point &lt;code&gt;v&lt;/code&gt; of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#exp&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;exp&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#log2&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;log2&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;log2 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#log2&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;log2-httpsdocsvictoriametricscommetricsqllog2&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#log2-httpsdocsvictoriametricscommetricsqllog2&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;log2(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates &lt;code&gt;log2(v)&lt;/code&gt; for every point &lt;code&gt;v&lt;/code&gt; of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#log10&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;log10&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#ln&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ln&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;log10 &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#log10&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;log10-httpsdocsvictoriametricscommetricsqllog10&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#log10-httpsdocsvictoriametricscommetricsqllog10&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;log10(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates &lt;code&gt;log10(v)&lt;/code&gt; for every point &lt;code&gt;v&lt;/code&gt; of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#log2&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;log2&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#ln&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ln&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;minute &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#minute&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;minute-httpsdocsvictoriametricscommetricsqlminute&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#minute-httpsdocsvictoriametricscommetricsqlminute&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;minute(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns the minute for every point of every time series returned by &lt;code&gt;q&lt;/code&gt;. It is expected that &lt;code&gt;q&lt;/code&gt; returns unix timestamps. The returned values are in the range &lt;code&gt;[0...59]&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;h4&gt;month &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#month&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;month-httpsdocsvictoriametricscommetricsqlmonth&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#month-httpsdocsvictoriametricscommetricsqlmonth&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;month(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns the month for every point of every time series returned by &lt;code&gt;q&lt;/code&gt;. It is expected that &lt;code&gt;q&lt;/code&gt; returns unix timestamps. The returned values are in the range &lt;code&gt;[1...12]&lt;/code&gt;, where &lt;code&gt;1&lt;/code&gt; means January and &lt;code&gt;12&lt;/code&gt; means December.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;h4&gt;now &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#now&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;now-httpsdocsvictoriametricscommetricsqlnow&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#now-httpsdocsvictoriametricscommetricsqlnow&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;now()&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns the current timestamp as a floating-point value in seconds.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;time&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;pi &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#pi&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;pi-httpsdocsvictoriametricscommetricsqlpi&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#pi-httpsdocsvictoriametricscommetricsqlpi&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;pi()&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns &lt;a href=&#34;https://en.wikipedia.org/wiki/Pi&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Pi number&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;h4&gt;rad &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rad&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;rad-httpsdocsvictoriametricscommetricsqlrad&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#rad-httpsdocsvictoriametricscommetricsqlrad&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;rad(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which converts &lt;a href=&#34;https://en.wikipedia.org/wiki/Radian#Conversions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;degrees to Radians&lt;/a&gt; for every point of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#deg&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;deg&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;prometheus_buckets &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#prometheus_buckets&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;prometheus_buckets-httpsdocsvictoriametricscommetricsqlprometheus_buckets&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#prometheus_buckets-httpsdocsvictoriametricscommetricsqlprometheus_buckets&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;prometheus_buckets(buckets)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which converts &lt;a href=&#34;https://valyala.medium.com/improving-histogram-usability-for-prometheus-and-grafana-bc7e5df0e350&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;VictoriaMetrics histogram buckets&lt;/a&gt; with &lt;code&gt;vmrange&lt;/code&gt; labels to Prometheus histogram buckets with &lt;code&gt;le&lt;/code&gt; labels. This may be useful for building heatmaps in Grafana.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#histogram_quantile&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;histogram_quantile&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#buckets_limit&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;buckets_limit&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;rand &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rand&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;rand-httpsdocsvictoriametricscommetricsqlrand&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#rand-httpsdocsvictoriametricscommetricsqlrand&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;rand(seed)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns pseudo-random numbers on the range &lt;code&gt;[0...1]&lt;/code&gt; with even distribution. Optional &lt;code&gt;seed&lt;/code&gt; can be used as a seed for pseudo-random number generator.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rand_normal&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rand_normal&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rand_exponential&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rand_exponential&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;rand_exponential &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rand_exponential&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;rand_exponential-httpsdocsvictoriametricscommetricsqlrand_exponential&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#rand_exponential-httpsdocsvictoriametricscommetricsqlrand_exponential&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;rand_exponential(seed)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns pseudo-random numbers with &lt;a href=&#34;https://en.wikipedia.org/wiki/Exponential_distribution&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;exponential distribution&lt;/a&gt;. Optional &lt;code&gt;seed&lt;/code&gt; can be used as a seed for pseudo-random number generator.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rand&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rand&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rand_normal&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rand_normal&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;rand_normal &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rand_normal&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;rand_normal-httpsdocsvictoriametricscommetricsqlrand_normal&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#rand_normal-httpsdocsvictoriametricscommetricsqlrand_normal&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;rand_normal(seed)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns pseudo-random numbers with &lt;a href=&#34;https://en.wikipedia.org/wiki/Normal_distribution&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;normal distribution&lt;/a&gt;. Optional &lt;code&gt;seed&lt;/code&gt; can be used as a seed for pseudo-random number generator.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rand&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rand&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#rand_exponential&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;rand_exponential&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;range_avg &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_avg&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;range_avg-httpsdocsvictoriametricscommetricsqlrange_avg&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#range_avg-httpsdocsvictoriametricscommetricsqlrange_avg&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;range_avg(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates the avg value across points per each time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;range_first &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_first&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;range_first-httpsdocsvictoriametricscommetricsqlrange_first&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#range_first-httpsdocsvictoriametricscommetricsqlrange_first&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;range_first(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns the value for the first point per each time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;range_last &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_last&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;range_last-httpsdocsvictoriametricscommetricsqlrange_last&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#range_last-httpsdocsvictoriametricscommetricsqlrange_last&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;range_last(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns the value for the last point per each time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;range_linear_regression &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_linear_regression&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;range_linear_regression-httpsdocsvictoriametricscommetricsqlrange_linear_regression&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#range_linear_regression-httpsdocsvictoriametricscommetricsqlrange_linear_regression&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;range_linear_regression(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates &lt;a href=&#34;https://en.wikipedia.org/wiki/Simple_linear_regression&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;simple linear regression&lt;/a&gt; over the selected time range per each time series returned by &lt;code&gt;q&lt;/code&gt;. This function is useful for capacity planning and predictions.&lt;/p&gt;
&lt;h4&gt;range_mad &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_mad&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;range_mad-httpsdocsvictoriametricscommetricsqlrange_mad&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#range_mad-httpsdocsvictoriametricscommetricsqlrange_mad&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;range_mad(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates the &lt;a href=&#34;https://en.wikipedia.org/wiki/Median_absolute_deviation&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;median absolute deviation&lt;/a&gt; across points per each time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#mad&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;mad&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#mad_over_time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;mad_over_time&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;range_max &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_max&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;range_max-httpsdocsvictoriametricscommetricsqlrange_max&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#range_max-httpsdocsvictoriametricscommetricsqlrange_max&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;range_max(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates the max value across points per each time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;range_median &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_median&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;range_median-httpsdocsvictoriametricscommetricsqlrange_median&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#range_median-httpsdocsvictoriametricscommetricsqlrange_median&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;range_median(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates the median value across points per each time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;range_min &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_min&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;range_min-httpsdocsvictoriametricscommetricsqlrange_min&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#range_min-httpsdocsvictoriametricscommetricsqlrange_min&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;range_min(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates the min value across points per each time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;range_normalize &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_normalize&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;range_normalize-httpsdocsvictoriametricscommetricsqlrange_normalize&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#range_normalize-httpsdocsvictoriametricscommetricsqlrange_normalize&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;range_normalize(q1, ...)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which normalizes values for time series returned by &lt;code&gt;q1, ...&lt;/code&gt; into &lt;code&gt;[0 ... 1]&lt;/code&gt; range. This function is useful for correlating time series with distinct value ranges.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#share&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;share&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;range_quantile &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_quantile&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;range_quantile-httpsdocsvictoriametricscommetricsqlrange_quantile&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#range_quantile-httpsdocsvictoriametricscommetricsqlrange_quantile&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;range_quantile(phi, q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns &lt;code&gt;phi&lt;/code&gt;-quantile across points per each time series returned by &lt;code&gt;q&lt;/code&gt;. &lt;code&gt;phi&lt;/code&gt; must be in the range &lt;code&gt;[0...1]&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;range_stddev &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_stddev&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;range_stddev-httpsdocsvictoriametricscommetricsqlrange_stddev&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#range_stddev-httpsdocsvictoriametricscommetricsqlrange_stddev&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;range_stddev(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates &lt;a href=&#34;https://en.wikipedia.org/wiki/Standard_deviation&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;standard deviation&lt;/a&gt; per each time series returned by &lt;code&gt;q&lt;/code&gt; on the selected time range.&lt;/p&gt;
&lt;h4&gt;range_stdvar &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_stdvar&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;range_stdvar-httpsdocsvictoriametricscommetricsqlrange_stdvar&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#range_stdvar-httpsdocsvictoriametricscommetricsqlrange_stdvar&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;range_stdvar(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates &lt;a href=&#34;https://en.wikipedia.org/wiki/Variance&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;standard variance&lt;/a&gt; per each time series returned by &lt;code&gt;q&lt;/code&gt; on the selected time range.&lt;/p&gt;
&lt;h4&gt;range_sum &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_sum&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;range_sum-httpsdocsvictoriametricscommetricsqlrange_sum&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#range_sum-httpsdocsvictoriametricscommetricsqlrange_sum&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;range_sum(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates the sum of points per each time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;range_trim_outliers &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_trim_outliers&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;range_trim_outliers-httpsdocsvictoriametricscommetricsqlrange_trim_outliers&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#range_trim_outliers-httpsdocsvictoriametricscommetricsqlrange_trim_outliers&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;range_trim_outliers(k, q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which drops points located farther than &lt;code&gt;k*range_mad(q)&lt;/code&gt; from the &lt;code&gt;range_median(q)&lt;/code&gt;. E.g. it is equivalent to the following query: &lt;code&gt;q ifnot (abs(q - range_median(q)) &amp;gt; k*range_mad(q))&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_trim_spikes&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;range_trim_spikes&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_trim_zscore&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;range_trim_zscore&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;range_trim_spikes &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_trim_spikes&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;range_trim_spikes-httpsdocsvictoriametricscommetricsqlrange_trim_spikes&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#range_trim_spikes-httpsdocsvictoriametricscommetricsqlrange_trim_spikes&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;range_trim_spikes(phi, q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which drops &lt;code&gt;phi&lt;/code&gt; percent of biggest spikes from time series returned by &lt;code&gt;q&lt;/code&gt;. The &lt;code&gt;phi&lt;/code&gt; must be in the range &lt;code&gt;[0..1]&lt;/code&gt;, where &lt;code&gt;0&lt;/code&gt; means &lt;code&gt;0%&lt;/code&gt; and &lt;code&gt;1&lt;/code&gt; means &lt;code&gt;100%&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_trim_outliers&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;range_trim_outliers&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_trim_zscore&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;range_trim_zscore&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;range_trim_zscore &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_trim_zscore&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;range_trim_zscore-httpsdocsvictoriametricscommetricsqlrange_trim_zscore&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#range_trim_zscore-httpsdocsvictoriametricscommetricsqlrange_trim_zscore&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;range_trim_zscore(z, q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which drops points located farther than &lt;code&gt;z*range_stddev(q)&lt;/code&gt; from the &lt;code&gt;range_avg(q)&lt;/code&gt;. E.g. it is equivalent to the following query: &lt;code&gt;q ifnot (abs(q - range_avg(q)) &amp;gt; z*range_avg(q))&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_trim_outliers&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;range_trim_outliers&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_trim_spikes&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;range_trim_spikes&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;range_zscore &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#range_zscore&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;range_zscore-httpsdocsvictoriametricscommetricsqlrange_zscore&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#range_zscore-httpsdocsvictoriametricscommetricsqlrange_zscore&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;range_zscore(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates &lt;a href=&#34;https://en.wikipedia.org/wiki/Standard_score&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;z-score&lt;/a&gt; for points returned by &lt;code&gt;q&lt;/code&gt;, e.g. it is equivalent to the following query: &lt;code&gt;(q - range_avg(q)) / range_stddev(q)&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;remove_resets &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#remove_resets&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;remove_resets-httpsdocsvictoriametricscommetricsqlremove_resets&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#remove_resets-httpsdocsvictoriametricscommetricsqlremove_resets&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;remove_resets(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which removes counter resets from time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;round &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#round&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;round-httpsdocsvictoriametricscommetricsqlround&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#round-httpsdocsvictoriametricscommetricsqlround&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;round(q, nearest)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which rounds every point of every time series returned by &lt;code&gt;q&lt;/code&gt; to the &lt;code&gt;nearest&lt;/code&gt; multiple. If &lt;code&gt;nearest&lt;/code&gt; is missing then the rounding is performed to the nearest integer.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#floor&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;floor&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#ceil&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ceil&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;ru &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#ru&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;ru-httpsdocsvictoriametricscommetricsqlru&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#ru-httpsdocsvictoriametricscommetricsqlru&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;ru(free, max)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates resource utilization in the range &lt;code&gt;[0%...100%]&lt;/code&gt; for the given &lt;code&gt;free&lt;/code&gt; and &lt;code&gt;max&lt;/code&gt; resources. For instance, &lt;code&gt;ru(node_memory_MemFree_bytes, node_memory_MemTotal_bytes)&lt;/code&gt; returns memory utilization over &lt;a href=&#34;https://github.com/prometheus/node_exporter&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;node_exporter&lt;/a&gt; metrics.&lt;/p&gt;
&lt;h4&gt;running_avg &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#running_avg&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;running_avg-httpsdocsvictoriametricscommetricsqlrunning_avg&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#running_avg-httpsdocsvictoriametricscommetricsqlrunning_avg&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;running_avg(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates the running avg per each time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;running_max &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#running_max&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;running_max-httpsdocsvictoriametricscommetricsqlrunning_max&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#running_max-httpsdocsvictoriametricscommetricsqlrunning_max&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;running_max(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates the running max per each time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;running_min &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#running_min&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;running_min-httpsdocsvictoriametricscommetricsqlrunning_min&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#running_min-httpsdocsvictoriametricscommetricsqlrunning_min&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;running_min(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates the running min per each time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;running_sum &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#running_sum&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;running_sum-httpsdocsvictoriametricscommetricsqlrunning_sum&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#running_sum-httpsdocsvictoriametricscommetricsqlrunning_sum&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;running_sum(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates the running sum per each time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;scalar &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#scalar&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;scalar-httpsdocsvictoriametricscommetricsqlscalar&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#scalar-httpsdocsvictoriametricscommetricsqlscalar&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;scalar(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns &lt;code&gt;q&lt;/code&gt; if &lt;code&gt;q&lt;/code&gt; contains only a single time series. Otherwise, it returns nothing.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;h4&gt;sgn &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sgn&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;sgn-httpsdocsvictoriametricscommetricsqlsgn&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sgn-httpsdocsvictoriametricscommetricsqlsgn&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;sgn(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns &lt;code&gt;1&lt;/code&gt; if &lt;code&gt;v&amp;gt;0&lt;/code&gt;, &lt;code&gt;-1&lt;/code&gt; if &lt;code&gt;v&amp;lt;0&lt;/code&gt; and &lt;code&gt;0&lt;/code&gt; if &lt;code&gt;v==0&lt;/code&gt; for every point &lt;code&gt;v&lt;/code&gt; of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;h4&gt;sin &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sin&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;sin-httpsdocsvictoriametricscommetricsqlsin&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sin-httpsdocsvictoriametricscommetricsqlsin&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;sin(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns &lt;code&gt;sin(v)&lt;/code&gt; for every &lt;code&gt;v&lt;/code&gt; point of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by MetricsQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#cos&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;cos&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;sinh &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sinh&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;sinh-httpsdocsvictoriametricscommetricsqlsinh&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sinh-httpsdocsvictoriametricscommetricsqlsinh&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;sinh(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns &lt;a href=&#34;https://en.wikipedia.org/wiki/Hyperbolic_functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;hyperbolic sine&lt;/a&gt; for every point of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by MetricsQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#cosh&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;cosh&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;tan &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#tan&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;tan-httpsdocsvictoriametricscommetricsqltan&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#tan-httpsdocsvictoriametricscommetricsqltan&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;tan(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns &lt;code&gt;tan(v)&lt;/code&gt; for every &lt;code&gt;v&lt;/code&gt; point of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by MetricsQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#atan&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;atan&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;tanh &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#tanh&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;tanh-httpsdocsvictoriametricscommetricsqltanh&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#tanh-httpsdocsvictoriametricscommetricsqltanh&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;tanh(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns &lt;a href=&#34;https://en.wikipedia.org/wiki/Hyperbolic_functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;hyperbolic tangent&lt;/a&gt; for every point of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by MetricsQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#atanh&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;atanh&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;smooth_exponential &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#smooth_exponential&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;smooth_exponential-httpsdocsvictoriametricscommetricsqlsmooth_exponential&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#smooth_exponential-httpsdocsvictoriametricscommetricsqlsmooth_exponential&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;smooth_exponential(q, sf)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which smooths points per each time series returned by &lt;code&gt;q&lt;/code&gt; using &lt;a href=&#34;https://en.wikipedia.org/wiki/Moving_average#Exponential_moving_average&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;exponential moving average&lt;/a&gt; with the given smooth factor &lt;code&gt;sf&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;sort &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sort&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;sort-httpsdocsvictoriametricscommetricsqlsort&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sort-httpsdocsvictoriametricscommetricsqlsort&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;sort(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which sorts series in ascending order by the last point in every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sort_desc&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sort_desc&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sort_by_label&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sort_by_label&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;sort_desc &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sort_desc&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;sort_desc-httpsdocsvictoriametricscommetricsqlsort_desc&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sort_desc-httpsdocsvictoriametricscommetricsqlsort_desc&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;sort_desc(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which sorts series in descending order by the last point in every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sort&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sort&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sort_by_label_desc&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sort_by_label&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;sqrt &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#sqrt&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;sqrt-httpsdocsvictoriametricscommetricsqlsqrt&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sqrt-httpsdocsvictoriametricscommetricsqlsqrt&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;sqrt(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which calculates square root for every point of every time series returned by &lt;code&gt;q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;h4&gt;start &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#start&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;start-httpsdocsvictoriametricscommetricsqlstart&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#start-httpsdocsvictoriametricscommetricsqlstart&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;start()&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns unix timestamp in seconds for the first point.&lt;/p&gt;
&lt;p&gt;It is known as &lt;code&gt;start&lt;/code&gt; query arg passed to &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#range-query&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;/api/v1/query_range&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#end&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;end&lt;/a&gt;, &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;time&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#now&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;now&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;step &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#step&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;step-httpsdocsvictoriametricscommetricsqlstep&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#step-httpsdocsvictoriametricscommetricsqlstep&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;step()&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns the step in seconds (aka interval) between the returned points. It is known as &lt;code&gt;step&lt;/code&gt; query arg passed to &lt;a href=&#34;https://docs.victoriametrics.com/keyconcepts/#range-query&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;/api/v1/query_range&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#start&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;start&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#end&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;end&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;time &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#time&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;time-httpsdocsvictoriametricscommetricsqltime&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#time-httpsdocsvictoriametricscommetricsqltime&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;time()&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns unix timestamp for every returned point.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#timestamp&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;timestamp&lt;/a&gt;, &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#now&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;now&lt;/a&gt;, &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#start&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;start&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#end&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;end&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;timezone_offset &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#timezone_offset&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;timezone_offset-httpsdocsvictoriametricscommetricsqltimezone_offset&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#timezone_offset-httpsdocsvictoriametricscommetricsqltimezone_offset&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;timezone_offset(tz)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns offset in seconds for the given timezone &lt;code&gt;tz&lt;/code&gt; relative to UTC. This can be useful when combining with datetime-related functions. For example, &lt;code&gt;day_of_week(time()+timezone_offset(&amp;quot;America/Los_Angeles&amp;quot;))&lt;/code&gt; would return weekdays for &lt;code&gt;America/Los_Angeles&lt;/code&gt; time zone.&lt;/p&gt;
&lt;p&gt;Special &lt;code&gt;Local&lt;/code&gt; time zone can be used for returning an offset for the time zone set on the host where VictoriaMetrics runs.&lt;/p&gt;
&lt;p&gt;See &lt;a href=&#34;https://en.wikipedia.org/wiki/List_of_tz_database_time_zones&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;the list of supported timezones&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;ttf &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#ttf&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;ttf-httpsdocsvictoriametricscommetricsqlttf&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#ttf-httpsdocsvictoriametricscommetricsqlttf&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;ttf(free)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which estimates the time in seconds needed to exhaust &lt;code&gt;free&lt;/code&gt; resources. For instance, &lt;code&gt;ttf(node_filesystem_avail_byte)&lt;/code&gt; returns the time to storage space exhaustion. This function may be useful for capacity planning.&lt;/p&gt;
&lt;h4&gt;union &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#union&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;union-httpsdocsvictoriametricscommetricsqlunion&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#union-httpsdocsvictoriametricscommetricsqlunion&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;union(q1, ..., qN)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns a union of time series returned from &lt;code&gt;q1&lt;/code&gt;, …, &lt;code&gt;qN&lt;/code&gt;. The &lt;code&gt;union&lt;/code&gt; function name can be skipped - the following queries are equivalent: &lt;code&gt;union(q1, q2)&lt;/code&gt; and &lt;code&gt;(q1, q2)&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;It is expected that each &lt;code&gt;q*&lt;/code&gt; query returns time series with unique sets of labels. Otherwise, only the first time series out of series with identical set of labels is returned. Use &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#alias&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;alias&lt;/a&gt; and &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#label_set&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;label_set&lt;/a&gt; functions for giving unique labelsets per each &lt;code&gt;q*&lt;/code&gt; query:&lt;/p&gt;
&lt;h4&gt;vector &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#vector&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;vector-httpsdocsvictoriametricscommetricsqlvector&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#vector-httpsdocsvictoriametricscommetricsqlvector&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;vector(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns &lt;code&gt;q&lt;/code&gt;, e.g. it does nothing in MetricsQL.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;
&lt;h4&gt;year &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#year&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#&lt;/a&gt;&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;year-httpsdocsvictoriametricscommetricsqlyear&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#year-httpsdocsvictoriametricscommetricsqlyear&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;code&gt;year(q)&lt;/code&gt; is a &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#transform-functions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;transform function&lt;/a&gt;, which returns the year for every point of every time series returned by &lt;code&gt;q&lt;/code&gt;. It is expected that &lt;code&gt;q&lt;/code&gt; returns unix timestamps.&lt;/p&gt;
&lt;p&gt;Metric names are stripped from the resulting series. Add &lt;a href=&#34;https://docs.victoriametrics.com/metricsql/#keep_metric_names&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;keep_metric_names&lt;/a&gt; modifier in order to keep metric names.&lt;/p&gt;
&lt;p&gt;This function is supported by PromQL.&lt;/p&gt;

      </description>
    </item>
    
  </channel>
</rss>
